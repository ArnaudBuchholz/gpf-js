!function(n,e){"use strict";if("function"==typeof define&&define.amd)define(["exports"],e);else if("undefined"!=typeof exports)e(exports);else if("undefined"!=typeof module&&module.exports)e(module.exports);else{n===undefined&&(n=Function("return this;")());var t={};e(t),n.gpf=t}}(this,function(u){"use strict";function n(){}var e,t,r="browser",i="nashorn",o="nodejs",s="phantomjs",a="rhino",c="unknown",f="wscript",p=c,d=Function,h=new d("return this")();"undefined"!=typeof WScript?p=f:"undefined"!=typeof print&&"undefined"!=typeof java?p="undefined"==typeof readFile?i:a:"undefined"!=typeof phantom&&phantom.version&&!document.currentScript?(p=s,h=window):"undefined"!=typeof module&&module.exports?(p=o,h=global):"undefined"!=typeof window&&(p=r,h=window),u.version=function(){return"0.2.6"},r===p&&(function(n){window.location="https://arnaudbuchholz.github.io/gpf/exit.html?"+n},window,document),u.node={},o===p&&(t=require("path"),e=require("fs"),require("http"),require("https"),require("url"),"\\"===t.sep),u.hosts={browser:r,nashorn:i,nodejs:o,phantomjs:s,rhino:a,unknown:c,wscript:f},u.host=function(){return p};var l,v=Array.isArray;function g(n){return v(n)||!!(e=n)&&Math.floor(e.length)===e.length;var e}function m(n,e,t){var r,i=n.length;for(r=0;r<i;++r)e.call(t,n[r],r,n)}function E(n,e,t){for(var r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}u.isArrayLike=g,l=f===p?function(e,t,r){E(e,t,r),["constructor","toString"].forEach(function(n){e.hasOwnProperty(n)&&t.call(r,e[n],n,e)})}:E,u.forEach=function(n,e,t){g(n)?m(n,e,t):l(n,e,t)};var b=!0;function y(n,e){var t;n||(t=e,b&&console.warn("ASSERTION FAILED: "+t),u.Error.assertionFailed({message:e}))}u.assert=function(n,e){undefined===e&&(n=!(e="Assertion with no message")),y(n,e)},u.asserts=function(n){l(n,y)},u.preventAssertWarnings=function(n){b=!n};new RegExp("//.*$|/\\*(?:[^\\*]*|\\*[^/]*)\\*/","gm");function w(n,e){return r=e,0===(t=n).length?d(r):((i=[].concat(t)).push(r),d.apply(null,i));var t,r,i}function O(n,e){if(undefined!==n)return n[e]}function T(n,e){var t=n[e];return undefined===t&&(t=n[e]={}),t}function q(n,e){var t,r,i;return r=e?T:O,"gpf"===(t=n)[0]?(i=u,t=t.slice(1)):i=h,t.reduce(r,i)}u.web={},u.context=function(n){return undefined===n?h:q(n.split("."))};var P=u.Error=function(){};function j(n,e,t){var r=function(n,e,t){function r(n){this._buildMessage(n)}var i;return r.prototype=new P,Object.assign(r.prototype,{code:n,name:e,message:t}),r.prototype.constructor=r,P[(i=e,i.charAt(0).toUpperCase()+i.substr(1))]=r,function(n){throw new r(n)}}(n,e,t);return r.CODE=n,r.NAME=e,r.MESSAGE=t,r}P.prototype=new Error,Object.assign(P.prototype,{constructor:P,code:0,name:"Error",message:"",_buildMessage:function(n){var t,e,r;n&&(t={},l(n,function(n,e){t["{"+e+"}"]=n.toString()}),this.message=(e=this.message,r=e,l(t,function(n,e){r=r.split(e).join(n)}),r))}});var x=0;function S(n,e){l(e,function(n,e){var t=++x;u.Error["CODE_"+e.toUpperCase()]=t,u.Error[e]=j(t,e,n)})}function A(n,e){return n.exec(e)}function D(n,e){for(var t,r,i=[],o=(r=e,(t=n).lastIndex=0,A(t,r));o;)i.push(o),o=A(n,e);return i}function C(n){n.length?n.pop():u.Error.unreachablePath()}function I(n){var e,t,r=-1<(e=n).indexOf("\\")?e.toLowerCase().split("\\"):e.split("/");return(t=r)[t.length-1]||t.pop(),r}function R(n){return n?I(n).pop():""}function L(n){var e=R(n),t=e.lastIndexOf(".");return-1===t?"":e.substr(t)}S(0,{notImplemented:"Not implemented",assertionFailed:"Assertion failed: {message}",invalidParameter:"Invalid parameter"}),S(0,{unreachablePath:"Unreachable path"});var N={"":function(n){n.length=0,n.push("")},".":n,"..":function(n){C(n)}};function U(n){var e=I(n);return[].slice.call(arguments,1).forEach(function(t,n){m(I(n),function(n){var e=N[n];e?e(t):t.push(n)})}.bind(null,e)),e.join("/")}function k(n){return C(n=I(n)),n.join("/")}u.path={join:U,parent:k,name:R,nameOnly:function(n){var e=R(n),t=e.lastIndexOf(".");return-1===t?e:e.substr(0,t)},extension:L,relative:function(n,e){var t,r,i,o=I(n),u=I(e);for(i=u,(r=o).length*i.length&&function(n,e){for(;n[0]===e[0];)n.shift(),e.shift()}(r,i),t=o.length+1;--t;)u.unshift("..");return u.join("/")}},u.http={};var F,H={GET:"GET",POST:"POST",PUT:"PUT",OPTIONS:"OPTIONS",DELETE:"DELETE",HEAD:"HEAD"},M=new RegExp("([^:\\s]+)\\s*: ?([^\\r]*)","gm");function G(n,e){var t=F;return n===p&&(F=e),t}function _(t){return new Promise(function(n,e){F(t,n,e)})}function J(n,e,t){return _("string"==typeof e?{method:n,url:e,data:t}:Object.assign({method:n},e))}Object.assign(u.http,{methods:{get:H.GET,post:H.POST,put:H.PUT,options:H.OPTIONS,"delete":H.DELETE,head:H.HEAD},request:_,get:J.bind(u.http,H.GET),post:J.bind(u.http,H.POST),put:J.bind(u.http,H.PUT),options:J.bind(u.http,H.OPTIONS),"delete":J.bind(u.http,H.DELETE),head:J.bind(u.http,H.HEAD)});var W,z,X=(z="setRequestHeader",function(e,t){t&&Object.keys(t).forEach(function(n){e[z](n,t[n])})}),$=(W="send",function(n,e){e?n[W](e):n[W]()});function B(n,t){var e,r,i,o,u=(e=n,(r=new XMLHttpRequest).open(e.method,e.url),r);X(u,n.headers),o=function(){var n,e;t({status:u.status,headers:(n=u.getAllResponseHeaders(),e={},m(D(M,n),function(n){e[n[1]]=n[2]}),e),responseText:u.responseText})},(i=u).onreadystatechange=function(){4===i.readyState&&o()},$(u,n.data)}G(r,B),G(s,B);var K={};function Q(n,e){n===p&&(K=e)}function V(n){return K(n)}u.read=V,u.fs&&(u.fs.read=V),Q(r,function(n){return _({method:H.GET,url:n}).then(function(n){if(2!==Math.floor(n.status/100))throw new Error(n.responseText);return n.responseText})}),Q(o,function(n){return new Promise(function(t,r){e.readFile(n,function(n,e){n?r(n):t(e.toString())})})});var Y={};function Z(n,e){return t={gpf:Object.create(u),promise:Promise.resolve(),_initialDefine:null},r=cn(n,{base:k(e)}),t._initialDefine=r.define,r.define=function(){var n=this.gpf.require,e=this._initialDefine;return this.promise=e.apply(n,arguments),n.define=e,this.promise}.bind(t),t.gpf.require=r,t;var t,r}Y[".json"]=function(n,e){return JSON.parse(e)},S(0,{noCommonJSDynamicRequire:"Dynamic require not supported"});var nn=/[^.]\brequire\b\s*\(\s*(?:['|"]([^"']+)['|"]|[^)]+)\s*\)/g;var en,tn=[null,function(n){return{dependencies:[],factory:n[0]}},function(n){return{dependencies:n[0],factory:n[1]}},function(n){return{dependencies:n[1],factory:n[2]}}];function rn(n,e,t){var r,i,o={};return(r=["gpf","define","module","require"],i=e,undefined===i&&(i=r,r=[]),w(r,i))(n,function(n,e,t){var r=tn[arguments.length](arguments);this.require.define(r.dependencies,function(n){return n.length=r.dependencies.length,r.factory.apply(null,[].slice.call(n))})}.bind(n),o,function(n){return t[n]||u.Error.noCommonJSDynamicRequire()}),o.exports}function on(n){return"clearCache"===n?-1:1}en=r===p?function(n,e){return"//# sourceURL="+location.origin+U(location.pathname,n)+"?gpf.require\n"+e}:function(n,e){return e},Y[".js"]=function(t,r){var i=Z(this,t);return function(n,e){var t=D(nn,e);return t.length?Z(this,n).gpf.require.define(t.map(function(n){return n[1]}).filter(function(n){return n}).reduce(function(n,e){return n[e]=e,n},{}),function(n){return n}):Promise.resolve({})}.call(this,t,r).then(function(n){var e=rn(i.gpf,en(t,r),n);return undefined===e?i.promise:e})},S(0,{invalidRequireConfigureOption:"Invalid configuration option"});var un={base:function(n){this.base=n},cache:function(e){m(Object.keys(e),function(n){this.cache[n]=Promise.resolve(e[n])},this)},clearCache:function(){this.cache={}}};function sn(n){return U(this.base,n)}function an(r){var n;return this.cache[r]?this.cache[r]:(n=function(t){var r=this;return V(t).then(function(n){var e=Y[L(t).toLowerCase()];return e?e.call(r,t,n):n})}.call(this,r),(this.cache[r]=n)["catch"](function(n){var e,t;return e=n,t=r,Array.isArray(e.requires)||(e.requires=[]),e.requires.push(t),Promise.reject(n)}))}function cn(n,e){var t=Object.create(n),r={};return r.define=function(e,i){var t=this,r=[],o=Object.keys(e);return m(o,function(n){r.push(an.call(t,sn.call(t,e[n])))},t),Promise.all(r).then(function(t){var n,r;return"function"==typeof i?(r={},m(o,function(n,e){r[n]=t[e]}),n=i(r)):n=i,n})}.bind(t),r.resolve=sn.bind(t),r.configure=function(e){var t=this;m(Object.keys(e).sort(function(n,e){return on(n)-on(e)}),function(n){(un[n]||u.Error.invalidRequireConfigureOption).call(t,e[n])},t)}.bind(t),e&&r.configure(e),r}u.require=cn({base:"",cache:{}})});