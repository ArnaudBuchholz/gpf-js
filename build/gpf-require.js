!function(n){"use strict";if("function"==typeof define&&define.amd)define(["exports"],n);else if("undefined"!=typeof exports)n(exports);else if("undefined"!=typeof module&&module.exports)n(module.exports);else{var e=Function("return this;")(),t={};n(t),e.gpf=t}}(function(u){"use strict";function n(){}var e,t,r=-1,c=0,i="browser",o="nashorn",a="nodejs",s="phantomjs",f="rhino",p="unknown",d="wscript",l=p,h=Function,v=new h("return this")();function m(n,e,t){return Array.prototype.slice.call(n,e,t||n.length)}"undefined"!=typeof WScript?l=d:"undefined"!=typeof print&&"undefined"!=typeof java?l="undefined"==typeof readFile?o:f:"undefined"!=typeof phantom&&phantom.version&&!document.currentScript?(l=s,v=window):"undefined"!=typeof module&&module.exports?(l=a,v=global):"undefined"!=typeof window&&(l=i,v=window),u.version=function(){return"0.2.8-alpha"},i===l&&(function(n){window.location="https://arnaudbuchholz.github.io/gpf/exit.html?"+n},window,document),u.node={},a===l&&(t=require("path"),e=require("fs"),require("http"),require("https"),require("url"),"\\"===t.sep),u.hosts={browser:i,nashorn:o,nodejs:a,phantomjs:s,rhino:f,unknown:p,wscript:d},u.host=function(){return l};var g=1;function y(n){return m(n,g)}var b,w=Array.isArray;function E(n){return w(n)||function e(n){return!!n&&Math.floor(n.length)===n.length}(n)}function j(n,e,t){for(var r=0,i=n.length;r<i;++r)e.call(t,n[r],r,n)}function O(n,e,t){for(var r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}u.isArrayLike=E,b=d===l?function Pn(e,t,r){O(e,t,r),["constructor","toString"].forEach(function(n){e.hasOwnProperty(n)&&t.call(r,e[n],n,e)})}:O,u.forEach=function(n,e,t){E(n)?j(n,e,t):b(n,e,t)};var q=!0;function x(n,e){n||(!function t(n){q&&console.warn("ASSERTION FAILED: "+n)}(e),u.Error.assertionFailed({message:e}))}u.assert=function Cn(n,e){undefined===e&&Cn(!1,"Assertion with no message"),x(n,e)},u.asserts=function Dn(n){b(n,x)},u.preventAssertWarnings=function(n){q=!n};new RegExp("//.*$|/\\*(?:[^\\*]*|\\*[^/]*)\\*/","gm");function S(n,e){return function r(n,e){var t;return n.length?((t=[].concat(n)).push(e),h.apply(null,t)):h(e)}(n,e)}function A(n,e){return undefined===e?S([],n):S(n,e)}function P(n,e){if(undefined!==n)return n[e]}function C(n,e){var t=n[e];return undefined===t&&(t=n[e]={}),t}function D(n,e){return function r(n,e){var t;return("gpf"===n[c]?(t=u,y(n)):(t=v,n)).reduce(e,t)}(n,e?C:P)}function R(n,e){return function i(n,e){var t=Object.keys(e),r=t.map(function(n){return e[n]});return A(t,"return "+n).apply(null,r)}(function o(n){return"function"+function e(n){return n.name?" "+n.name:""}(n)+"("+function t(n){return n.parameters?n.parameters.join(", "):""}(n)+') {\n\t"use strict"\n'+function r(n){return n.body?n.body.toString():""}(n)+"\n}"}(n),e||{})}u.web={},u.context=function(n){return undefined===n?v:D(n.split("."))};var T=u.Error=function(){};function k(n,e,t){var r=function o(n){return n.charAt(c).toUpperCase()+n.substring(1)}(e),i=R({name:r,parameters:["context"],body:"this._buildMessage(context);"});return i.prototype=new T,Object.assign(i.prototype,{code:n,name:e,message:t}),i.prototype.constructor=i,T[r]=i,function(n){throw new i(n)}}T.prototype=new Error,Object.assign(T.prototype,{constructor:T,code:0,name:"Error",message:"",_buildMessage:function(n){var t;n&&(t={},b(n,function(n,e){t["{"+e+"}"]=n.toString()}),this.message=function r(n,e){var t=n;return b(e,function(n,e){t=t.split(e).join(n)}),t}(this.message,t))}});var I=0;function F(n,e){b(e,function(n,e){var t=++I;u.Error["CODE_"+e.toUpperCase()]=t,u.Error[e]=function i(n,e,t){var r=k(n,e,t);return r.CODE=n,r.NAME=e,r.MESSAGE=t,r}(t,e,n)})}function L(n,e){return n.exec(e)}function M(n,e){for(var t=[],r=function i(n,e){return n.lastIndex=0,L(n,e)}(n,e);r;)t.push(r),r=L(n,e);return t}function _(n){n.length?n.pop():u.Error.unreachablePath()}function N(n){var e=function t(n){return n.includes("\\")?n.toLowerCase().split("\\"):n.split("/")}(n);return function r(n){var e=n.pop();e&&n.push(e)}(e),e}function U(n){return n?N(n).pop():""}function H(n){var e=U(n),t=e.lastIndexOf(".");return t===r?"":e.substr(t)}F(0,{notImplemented:"Not implemented",assertionFailed:"Assertion failed: {message}",invalidParameter:"Invalid parameter"}),F(0,{unreachablePath:"Unreachable path"});var J={"":function(n){n.length=0,n.push("")},".":n,"..":function(n){_(n)}};function W(n){var e=N(n);return y(arguments).forEach(function r(t,n){j(N(n),function(n){var e=J[n];e?e(t):t.push(n)})}.bind(null,e)),e.join("/")}function G(n,e){n.length*e.length&&function t(n,e){for(;n[c]===e[c];)n.shift(),e.shift()}(n,e)}function z(n){var e=N(n);return _(e),e.join("/")}u.path={join:W,parent:z,name:U,nameOnly:function(n){var e=U(n),t=e.lastIndexOf(".");return t===r?e:e.substring(c,t)},extension:H,relative:function Rn(n,e){var t,r=N(n),i=N(e);for(G(r,i),t=r.length;t--;)i.unshift("..");return i.join("/")}},u.http={};var X,$="GET",B="POST",K="PUT",Q="OPTIONS",V="DELETE",Y="HEAD",Z=new RegExp("([^:\\s]+)\\s*: ?([^\\r]*)","gm"),nn=1,en=2;function tn(n,e){var t=X;return n===l&&(X=e),t}function rn(t){return new Promise(function(n,e){X(t,n,e)})}function on(n,e,t){return rn("string"==typeof e?{method:n,url:e,data:t}:Object.assign({method:n},e))}Object.assign(u.http,{methods:{get:$,post:B,put:K,options:Q,"delete":V,head:Y},request:rn,get:on.bind(u.http,$),post:on.bind(u.http,B),put:on.bind(u.http,K),options:on.bind(u.http,Q),"delete":on.bind(u.http,V),head:on.bind(u.http,Y)});var un=4,cn=function Tn(r){return function(e,t){t&&Object.keys(t).forEach(function(n){e[r](n,t[n])})}}("setRequestHeader"),an=function kn(t){return function(n,e){e?n[t](e):n[t]()}}("send"),sn=function In(e,r,i){return function(n){return{status:n[e],headers:function t(n){var e={};return j(M(Z,n),function(n){e[n[nn]]=n[en]}),e}(n[r]()),responseText:n[i]}}}("status","getAllResponseHeaders","responseText");function fn(n,e){var t=function r(n){var e=new XMLHttpRequest;return e.open(n.method,n.url),e}(n);cn(t,n.headers),function i(n,e){n.onreadystatechange=function(){n.readyState===un&&e()}}(t,function(){e(sn(t))}),an(t,n.data)}tn(i,fn),tn(s,fn);var pn={};function dn(n,e){n===l&&(pn=e)}function ln(n){return pn(n)}u.read=ln,u.fs&&(u.fs.read=ln);dn(i,function Fn(n){return rn({method:$,url:n}).then(function(n){if(2!==Math.floor(n.status/100))throw new Error(n.responseText);return n.responseText})}),dn(a,function Ln(n){return new Promise(function(t,r){e.readFile(n,function(n,e){n?r(n):t(e.toString())})})});var hn={};function vn(t){var r=this;return function i(n,e){var t=n.preload[e];return t?Promise.resolve(t):ln(e)}(r,t).then(function(n){var e=hn[H(t).toLowerCase()];return e?e.call(r,t,n):n})}function mn(n,e){return function r(n,e){return n._initialDefine=e.define,e.define=function t(){var n=this.gpf.require,e=this._initialDefine;return this.promise=e.apply(n,arguments),n.define=e,this.promise}.bind(n),n.gpf.require=e,n}(function t(){return{gpf:Object.create(u),promise:Promise.resolve(),_initialDefine:null}}(),An(n,{base:z(e)}))}hn[".json"]=function(n,e){return JSON.parse(e)},F(0,{noCommonJSDynamicRequire:"Dynamic require not supported"});var gn=/[^.]\brequire\b\s*\(\s*(?:['|"]([^"']+)['|"]|[^)]+)\s*\)/g;var yn,bn=[null,function Mn(n){return{dependencies:[],factory:n}},function _n(n,e){return{dependencies:n,factory:e}},function Nn(n,e,t){return{dependencies:e,factory:t}}];function wn(n,e,t){var r={};return A(["gpf","define","module","require"],e)(n,function i(n,e,t){var r=bn[arguments.length].apply(null,arguments);this.require.define(r.dependencies,function(n){return n.length=r.dependencies.length,r.factory.apply(null,m(n))})}.bind(n),r,function(n){return t[n]||u.Error.noCommonJSDynamicRequire()}),r.exports}yn=i===l?function Un(n,e){var t=location.pathname.toString();return t.endsWith("/")||(t=z(t)),"//# sourceURL="+location.origin+W(t,n)+"?gpf.require\n"+e}:function Hn(n,e){return e},hn[".js"]=function(t,r){var i=mn(this,t);return function o(n,e){var t=M(gn,e);return t.length?mn(this,n).gpf.require.define(t.map(function(n){return n[1]}).filter(function(n){return n}).reduce(function(n,e){return n[e]=e,n},{}),function(n){return n}):Promise.resolve({})}.call(this,t,r).then(function(n){var e=wn(i.gpf,yn(t,r),n);return undefined===e?i.promise:e})},F(0,{invalidRequireConfigureOption:"Invalid configuration option"});var En=-1,jn=1;function On(n){return"clearCache"===n?En:jn}var qn={base:function(n){this.base=n},cache:function(e){j(Object.keys(e),function(n){this.cache[n]=Promise.resolve(e[n])},this)},clearCache:function(){this.cache={}},preload:function(e){j(Object.keys(e),function(n){this.preload[n]=e[n]},this)}};function xn(n){return W(this.base,n)}function Sn(e){var n;return this.cache[e]?this.cache[e]:(n=vn.call(this,e),(this.cache[e]=n)["catch"](function(n){return function t(n,e){Array.isArray(n.requires)||(n.requires=[]),n.requires.push(e)}(n,e),Promise.reject(n)}))}function An(n,e){var t=Object.create(n),r={};return r.define=function o(e,n){var t=this,r=[],i=Object.keys(e);return j(i,function(n){r.push(Sn.call(t,xn.call(t,e[n])))},t),Promise.all(r).then(function(t){var r;return"function"==typeof n?(r={},j(i,function(n,e){r[n]=t[e]}),n(r)):n})}.bind(t),r.resolve=xn.bind(t),r.configure=function i(e){var t=this;j(Object.keys(e).sort(function(n,e){return On(n)-On(e)}),function(n){(qn[n]||u.Error.invalidRequireConfigureOption).call(t,e[n])},t)}.bind(t),e&&r.configure(e),r}u.require=An({base:"",cache:{},preload:{}})});