!function(t){"use strict";if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else if("undefined"!=typeof module&&module.exports)t(module.exports);else{var e=Function("return this;")(),n={};t(n),e.gpf=n}}(function(a){"use strict";function c(){}var i,o,u,s,n,r,f=-1,l=0,t="browser",e="nashorn",h="nodejs",p="phantomjs",d="rhino",_="unknown",m="wscript",v=_,g=Function,b=new g("return this")();function y(e){return{log:function(t){e("    "+t)},info:function(t){e("[?] "+t)},warn:function(t){e("/!\\ "+t)},error:function(t){e("(X) "+t)}}}function w(){"\\"===String(java.lang.System.getProperty("file.separator")),b.console=y(print),function(t){java.lang.System.exit(t)}}function E(t,e,n){return Array.prototype.slice.call(t,e,n||t.length)}"undefined"!=typeof WScript?v=m:"undefined"!=typeof print&&"undefined"!=typeof java?v="undefined"==typeof readFile?e:d:"undefined"!=typeof phantom&&phantom.version&&!document.currentScript?(v=p,b=window):"undefined"!=typeof module&&module.exports?(v=h,b=global):"undefined"!=typeof window&&(v=t,b=window),a.version=function(){return"0.2.8-alpha"},t===v&&(function(t){window.location="https://arnaudbuchholz.github.io/gpf/exit.html?"+t},window,document),a.node={},h===v&&(n=require("path"),o=require("fs"),u=require("http"),s=require("https"),r=require("url"),"\\"===n.sep),p===v&&("\\"===require("fs").separator,function(t){phantom.exit(t)},window,document,o=require("fs")),a.java={},a.rhino=a.java,d===v&&w(),e===v&&w(),a.wscript={},m===v&&(!0,i=new ActiveXObject("Scripting.FileSystemObject"),b.console=y(function Xi(t){WScript.Echo(t)})),a.hosts={browser:t,nashorn:e,nodejs:h,phantomjs:p,rhino:d,unknown:_,wscript:m},a.host=function(){return v};var x=1;function S(t){return E(t,x)}var P,O=Array.isArray;function I(t){return O(t)||function e(t){return!!t&&Math.floor(t.length)===t.length}(t)}function j(t,e,n){for(var r=0,i=t.length;r<i;++r)e.call(n,t[r],r,t)}function N(t,e,n){for(var r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function k(t,e,n){for(var r,i=0,o=t.length;i<o&&!r;++i)r=e.call(n,t[i],i,t);return r}a.isArrayLike=I,P=m===v?function Vi(e,n,r){N(e,n,r),["constructor","toString"].forEach(function(t){e.hasOwnProperty(t)&&n.call(r,e[t],t,e)})}:N,a.forEach=function(t,e,n){I(t)?j(t,e,n):P(t,e,n)};var C=!0;function T(t,e){t||(!function n(t){C&&console.warn("ASSERTION FAILED: "+t)}(e),a.Error.assertionFailed({message:e}))}a.assert=function zi(t,e){undefined===e&&zi(!1,"Assertion with no message"),T(t,e)},a.asserts=function Hi(t){P(t,T)},a.preventAssertWarnings=function(t){C=!t};var A=/\/\/.*$|\/\*(?:[^\*]*|\*[^\/]*)\*\//gm;function $(t,e){return function r(t,e){var n;return t.length?((n=[].concat(t)).push(e),g.apply(null,n)):g(e)}(t,e)}function R(t,e){return undefined===e?$([],t):$(t,e)}function D(t,e){var n=t;return P(e,function(t,e){n=n.split(e).join(t)}),n}a.web={};var F={};function M(t,e){return function n(t,e){return"javascript"===e?'"'+t+'"':t}(D(t,F[e]),e)}function B(n,t){P(t,function(t,e){n[e]===undefined&&(n[e]=t)})}function q(t,e){var n=e.on;!function r(t,e){e&&B(t.prototype,e)}(n,e.methods),function i(t,e){e&&B(t,e)}(n,e.statics)}function W(t,e){b[t]||(b[t]=e)}F.javascript={"\\":"\\\\",'"':'\\"',"\n":"\\n","\r":"\\r","\t":"\\t"},F.xml={"&":"&amp;","<":"&lt;",">":"&gt;"};var U=1;function L(t,e){var n=function r(t){return t[U]}(e);return undefined!==n?t.bind(n):t}function X(t,e){for(var n=t.length,r=0;r<n;)t.hasOwnProperty(r)&&e(t[r],r,t),++r}function V(t,e,n){for(var r=t.length,i=n;i<r;){if(t.hasOwnProperty(i)&&!0!==e(t[i],i,t))return!1;++i}return!0}function z(t,e){return V(t,e,l)}function H(t,e,n){var r=function o(t){var e=[];return"string"==typeof t?function i(t,e){for(var n=e.length,r=0;r<n;++r)t.push(e.charAt(r))}(e,t):j(t,function(t){e.push(t)}),e}(t);return"function"==typeof e&&(r=r.map(e,n)),r}function G(t){var e=t[1];return undefined===e?l:e}function Z(t){return t?new Array(t).join(" ").split(" ").map(function(t,e){return"p"+e}):[]}function Q(t){var e=Z(t);return R(e,function n(r){var i=["var C = this, l = arguments.length;","if (0 === l) { return new C();}"];return r.forEach(function(t,e){var n=1;n+=e,i.push("if ("+n+" === l) { return new C("+r.slice(l,n).join(", ")+");}")}),i.join("\n")}(e))}q(0,{on:Array,methods:{every:function(t){return z(this,L(t,arguments))},filter:function(t){var r=[],i=L(t,arguments);return X(this,function(t,e,n){i(t,e,n)&&r.push(t)}),r},forEach:function(t){X(this,L(t,arguments))},includes:function(e){return!V(this,function(t){return t!==e},G(arguments))},indexOf:function(n){var r=-1;return V(this,function(t,e){return t!==n||(r=e,!1)},G(arguments)),r},map:function(t){var r=new Array(this.length),i=L(t,arguments);return X(this,function(t,e,n){r[e]=i(t,e,n)}),r},some:function(t){var r=L(t,arguments);return!z(this,function(t,e,n){return!r(t,e,n)})},reduce:function(t){var e,n=arguments[1],r=this.length,i=0;for(e=undefined===n?this[i++]:n;i<r;++i)e=t(e,this[i],i,this);return e}},statics:{from:function(t){return H.apply(this,arguments)},isArray:function(t){return"[object Array]"==={}.toString.call(t)}}}),O=Array.isArray;var J=Q(10);q(0,{on:Function,methods:{bind:function(t){var e=S(arguments);return R(["thisArg","prependArgs","_gpfArraySlice"],function n(t){return"var me = this;\nreturn function ("+Z(t).join(", ")+") {\n    var args = _gpfArraySlice(arguments);\n    return me.apply(thisArg, prependArgs.concat(args));\n};"}(Math.max(this.length-e.length,0))).call(this,t,e,E)}}});var Y="function";function K(t,e){this[e]=t}"functionName"!==R("return function functionName () {};")().name?Function.prototype.compatibleName=function Gi(){var t=c.toString.call(this),e=t.indexOf(Y)+Y.length,n=t.indexOf("(",e);return t.substr(e,n-e).replace(A,"").trim()}:Function.prototype.compatibleName=function(){return this.name},q(0,{on:Object,statics:{assign:function(e,t){return S(arguments).forEach(function(t){P(t,K,e)}),e},create:function(){function e(t){this.constructor=t,this.__proto__=e.prototype}function n(){}return function(t){return e.prototype=t,n.prototype=new e(n),new n}}(),getPrototypeOf:function(t){return t.__proto__?t.__proto__:t.constructor.prototype},keys:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n},values:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(t[e]);return n}}});function tt(t,e){var n=t[1];return n||e}var et;function nt(t,e,n){return t<e?new Array(e-t+1).join(n):""}q(0,{on:String,methods:{endsWith:function(t){var e=Math.min(tt(arguments,this.length),this.length);return this.substring(e-t.length,e)===t},includes:function(t){var e=tt(arguments,l);return this.indexOf(t,e)!==f},padEnd:function(t){var e=tt(arguments," ");return this+nt(this.length,t,e)},padStart:function(t){var e=tt(arguments," ");return nt(this.length,t,e)+this},startsWith:function(t){var e=tt(arguments,l);return this.substr(e,t.length)===t},trim:(et=/^[\s\ufeff\xa0]+|[\s\ufeff\xa0]+$/g,function(){return this.replace(et,"")})}});var rt=1,it=2,ot=3;function at(t,e){return t.toString().padStart(e,"0")}function ut(t){return t.getUTCFullYear()+"-"+at(t.getUTCMonth()+rt,it)+"-"+at(t.getUTCDate(),it)+"T"+at(t.getUTCHours(),it)+":"+at(t.getUTCMinutes(),it)+":"+at(t.getUTCSeconds(),it)+"."+at(t.getUTCMilliseconds(),ot)+"Z"}q(0,{on:Date,methods:{toISOString:function(){return ut(this)}},statics:{now:function(){return(new Date).getTime()}}});var st=/^([0-9][0-9][0-9][0-9])\-([0-9][0-9])\-([0-9][0-9])(?:T([0-9][0-9])\:([0-9][0-9])\:([0-9][0-9])(?:\.([0-9][0-9][0-9])Z)?)?$/,ct=1,ft=11,lt=2,ht=31,pt=3,dt=23,_t=4,mt=59,vt=5,gt=59;function bt(t){if(function e(t){return t[ct]<=ft&&t[lt]<=ht}(t)&&function n(t){return t[pt]<=dt&&t[_t]<=mt&&t[vt]<=gt}(t))return t}var yt=0;var wt=1;function Et(t){if("string"==typeof t)return st.lastIndex=0,function n(t){var e;if(t)return--(e=function a(t){for(var e,n,r=[],i=t.length,o=1;o<i;++o)e=r,(n=t[o])?e.push(parseInt(n,10)):e.push(yt);return r}(t))[wt],bt(e)}(st.exec(t))}var xt=b.Date;function St(){var t=Et(arguments[l]);return t?new xt(xt.UTC.apply(xt.UTC,t)):function n(t,e){return e.length>J.length&&(J=Q(e.length)),J.apply(t,e)}(xt,arguments)}var Pt,Ot="2003-01-22T22:45:34.075Z",It="2003-01-22";function jt(t,e,n){var r=!0;function i(e){return function(t){r&&(r=!1,e(t))}}try{t(i(e),i(n))}catch(e_){r&&(r=!1,n(e_))}}function Nt(){var e=this;e._handlers.forEach(function(t){t.process(e)}),e._handlers=[]}function kt(t){this._state=!1,this._value=t,Nt.call(this)}function Ct(t){if(t&&["object","function"].includes(typeof t))return function n(t,e){if("function"==typeof e)return jt(e.bind(t),Pt.bind(this),kt.bind(this)),!0}.call(this,t,t.then)}!function Zi(){var t,e;!function n(){j(["prototype","UTC","parse","now"],function(t){St[t]=xt[t]})}();try{t=ut(new Date(Ot)),e=ut(new Date(It))}catch(e_){}t===Ot&&e===It+"T00:00:00.000Z"||(b.Date=St)}(),Pt=function(t){var e=this;try{if(Ct.call(e,t))return;e._state=!0,e._value=t,Nt.call(e)}catch(e_){kt.call(e,e_)}};var Tt=a.Promise=function(t){jt(t,Pt.bind(this),kt.bind(this))};function At(){}At.prototype={onFulfilled:null,onRejected:null,resolve:null,reject:null,process:function(t){if(null===t._state)return t.hasOwnProperty("_handlers")||(t._handlers=[]),void t._handlers.push(this);setTimeout(function u(t){var e,n=this,r=function i(t,e){return e._state?t.onFulfilled:t.onRejected}(n,t);if(null===r)return function o(t,e){e._state?t.resolve(e._value):t.reject(e._value)}(n,t);try{e=r(t._value)}catch(e_){return void n.reject(e_)}n.resolve(e)}.bind(this,t),0)}},Tt.prototype={_state:null,_value:null,_handlers:[],then:function(r,i){var o=this;return new Tt(function(t,e){var n=new At;undefined!==r&&(n.onFulfilled=r),undefined!==i&&(n.onRejected=i),n.resolve=t,n.reject=e,n.process(o)})},"catch":function(t){return this.then(null,t)}},Tt.resolve=function(e){return new Tt(function(t){t(e)})},Tt.reject=function(n){return new Tt(function(t,e){e(n)})},Tt.all=function(n){return n.length?new Tt(function(t,e){n.forEach(function o(t,e){var n=this;try{if(t instanceof Tt)return void t.then(function(t){o.call(n,t,e)},n.reject);!function r(t,e,n){t.promises[e]=n,--t.remaining||t.resolve(t.promises)}(n,e,t)}catch(e_){n.reject(e_)}}.bind({resolve:t,reject:e,remaining:n.length,promises:n}))}):Tt.resolve([])},Tt.race=function(t){return new Tt(function(e,n){t.forEach(function(t){t.then(e,n)})})},W("Promise",Tt);var $t={};function Rt(t){java.lang.Thread.sleep(t)}$t[m]=function(t){WScript.Sleep(t)},$t[d]=Rt,$t[e]=Rt;var Dt,Ft=[],Mt=0,Bt=$t[v]||c;function qt(t,e){return t.dt===e.dt?t.id-e.id:t.dt-e.dt}function Wt(t){return t.toString()}function Ut(t,e){return e?"\n"+e+t.join(",\n"+e)+"\n":t.join(",")}function Lt(t,e,n){return null===t?"null":function u(t,r,i){var o,a=[];return o=i?": ":":",P(t,function(t,e){var n=r(e,t);n=Dt[typeof n](t,r,i),undefined!==n&&a.push(M(e,"javascript")+o+n)}),"{"+Ut(a,i)+"}"}(t,e,n)}a.handleTimeout=function Qi(){for(var t,e;Ft.length;){for(t=Ft.shift(),e=(new Date).getTime();t.dt>e;)Bt(t.dt-e),e=(new Date).getTime();t.cb()}},W("setTimeout",function Ji(t,e){var n={id:++Mt,dt:(new Date).getTime()+e,cb:t};return Ft.push(n),Ft.sort(qt),Mt}),W("clearTimeout",function Yi(e){Ft=Ft.filter(function(t){return t.id!==e})}),Dt={undefined:c,"function":c,number:Wt,"boolean":Wt,string:function(t){return M(t,"javascript")},object:function(t,e,n){return O(t)?function a(t,r,i){var o=[];return j(t,function(t,e){var n=r(e.toString(),t);n=undefined===n?"null":Dt[typeof n](n,r,i),o.push(n)}),"["+Ut(o,i)+"]"}(t,e,n):Lt(t,e,n)}};var Xt=10;function Vt(t,e){if(undefined!==t)return t[e]}function zt(t,e){var n=t[e];return undefined===n&&(n=t[e]={}),n}function Ht(t,e){return function r(t,e){var n;return("gpf"===t[l]?(n=a,S(t)):(n=b,t)).reduce(e,n)}(t,e?zt:Vt)}function Gt(t){return t.trim()}function Zt(t,e){var n=c.toString.call(t).replace(A,"");!function i(t,e,n){if(t.length){var r=/\(\s*(\w+(?:\s*,\s*\w+)*)\s*\)/.exec(e);n.parameters=r[1].split(",").map(Gt)}}(t,n,e),function r(t,e){var n=Gt(/{((?:.*\r?\n)*.*)}/.exec(t)[1]);n&&(e.body=n)}(n,e)}function Qt(t){var e={};return function r(t,e){var n=t.compatibleName();n&&(e.name=n)}(t,e),Zt(t,e),e}function Jt(t,e){return function i(t,e){var n=Object.keys(e),r=n.map(function(t){return e[t]});return R(n,"return "+t).apply(null,r)}(function o(t){return"function"+function e(t){return t.name?" "+t.name:""}(t)+"("+function n(t){return t.parameters?t.parameters.join(", "):""}(t)+') {\n\t"use strict"\n'+function r(t){return t.body?t.body.toString():""}(t)+"\n}"}(t),e||{})}W("JSON",{parse:function Ki(t,e){var n=R("return "+t)();return e?function i(n,t,r){return"object"==typeof n&&P(n,function(t,e){n[e]=i(t,e,r)}),r(t,n)}(n,"",e):n},stringify:function to(t,e,n){return Dt[typeof t](t,function r(n){return O(n)?function(t,e){if(n.includes(t))return e}:function e(t){return"function"==typeof t?t:function(t,e){return e}}(n)}(e),function i(t){return"number"==typeof t?"".padEnd(Math.min(t,Xt)," "):t||""}(n))}}),a.context=function(t){return undefined===t?b:Ht(t.split("."))},F.html=Object.assign({},F.xml,{"\xe0":"&agrave;","\xe1":"&aacute;","\xe8":"&egrave;","\xe9":"&eacute;","\xea":"&ecirc;"});var Yt=a.Error=function(){};function Kt(t,e,n){var r=function o(t){return t.charAt(l).toUpperCase()+t.substring(1)}(e),i=Jt({name:r,parameters:["context"],body:"this._buildMessage(context);"});return i.prototype=new Yt,Object.assign(i.prototype,{code:t,name:e,message:n}),i.prototype.constructor=i,Yt[r]=i,function(t){throw new i(t)}}Yt.prototype=new Error,Object.assign(Yt.prototype,{constructor:Yt,code:0,name:"Error",message:"",_buildMessage:function(t){var n;t&&(n={},P(t,function(t,e){n["{"+e+"}"]=t.toString()}),this.message=D(this.message,n))}});var te=0;function ee(t,e){P(e,function(t,e){var n=++te;a.Error["CODE_"+e.toUpperCase()]=n,a.Error[e]=function i(t,e,n){var r=Kt(t,e,n);return r.CODE=t,r.NAME=e,r.MESSAGE=n,r}(n,e,t)})}ee(0,{notImplemented:"Not implemented",assertionFailed:"Assertion failed: {message}",invalidParameter:"Invalid parameter"}),ee(0,{invalidEntityType:"Invalid entity type"});var ne={};function re(t){var e,n=function i(n){var r;return P(ne,function(t,e){n["$"+e]&&(r=t)}),r}(t);return n||(n=function r(t){var e=ne[t.$type];return undefined===e&&a.Error.invalidEntityType(),e}(t)),(e=new n(t)).check(),e}function ie(t,e){return t.exec(e)}function oe(t,e){for(var n=[],r=function i(t,e){return t.lastIndex=0,ie(t,e)}(t,e);r;)n.push(r),r=ie(t,e);return n}function ae(t){this._initialDefinition=t}function ue(t){return Jt({parameters:Z(t),body:"_throw_();"},{_throw_:a.Error.abstractMethod})}ae.prototype={constructor:ae,_initialDefinition:{}},ee(0,{abstractMethod:"Abstract method"}),ee(0,{invalidEntity$Property:"Invalid entity $ property",missingEntityName:"Missing entity name",invalidEntityNamespace:"Invalid entity namespace"});function se(t,e){e.startsWith("$")?this._check$Property(e.substring("$".length),t):this._checkProperty(e,t)}Object.assign(ae.prototype,{_type:"",_allowed$Properties:"type,name,namespace".split(","),_check$Property:function(t,e){t!==this._type&&function n(t,e){e.includes(t)||a.Error.invalidEntity$Property()}(t,this._allowed$Properties)},_throwInvalidProperty:ue(),_reMemberName:/.*/,_checkMemberName:function(t){this._reMemberName.exec(t)||this._throwInvalidProperty()},_reservedNames:"super,class,public,private,protected,static,mixin".split(","),_checkReservedMemberName:function(t){this._reservedNames.includes(t)&&this._throwInvalidProperty()},_checkMemberValue:R(["name","value"]," "),_checkProperty:function(t,e){this._checkMemberName(t),this._checkReservedMemberName(t),this._checkMemberValue(t,e)},_checkProperties:function(){P(this._initialDefinition,se,this)},_name:"",_readName:function(){var t=this._initialDefinition;this._name=t["$"+this._type]||t.$name},_checkNameIsNotEmpty:function(){this._name||a.Error.missingEntityName()},_throwInvalidName:ue(),_reName:/.*/,_checkName:function(){this._reName.exec(this._name)||this._throwInvalidName()},_namespace:"",_extractRelativeNamespaceFromName:function(){var t=/(.*)\.([^\.]+)$/.exec(this._name);if(t)return this._name=t[2],t[1]},_readNamespace:function(){var t=[this._initialDefinition.$namespace,this._extractRelativeNamespaceFromName()].filter(function(t){return t});t.length&&(this._namespace=t.join("."))},_checkNamespace:function(){/^(:?[a-z_$][a-zA-Z0-9]+(:?\.[a-z_$][a-zA-Z0-9]+)*)?$/.exec(this._namespace)||a.Error.invalidEntityNamespace()},check:function(){this._checkProperties(),this._readName(),this._checkNameIsNotEmpty(),this._readNamespace(),this._checkName(),this._checkNamespace()}});var ce=[];function fe(e){var t=k(ce,function(t){if(t.getInstanceBuilder()===e)return t});return t||(t=k([].concat(ce).reverse(),function(t){if(e.prototype instanceof t.getInstanceBuilder())return t})),t}function le(t){ae.call(this,t)}Object.assign(ae.prototype,{_instanceBuilder:null,getInstanceBuilder:function(){return this._instanceBuilder||this._setInstanceBuilder(this._build()),this._instanceBuilder},_setInstanceBuilder:function(t){this._namespace&&(Ht(this._namespace.split("."),!0)[this._name]=t),this._instanceBuilder=t,ce.push(this)},_build:c}),le.prototype=Object.create(ae.prototype),Object.assign(le.prototype,{constructor:le,_type:"class"}),ne["class"]=le,ee(0,{invalidClassName:"Invalid class name",invalidClassProperty:"Invalid class property",invalidClassExtend:"Invalid class extend",invalidClassConstructor:"Invalid class constructor",invalidClassOverride:"Invalid class override"}),Object.assign(le.prototype,{_allowed$Properties:ae.prototype._allowed$Properties.concat(["extend"]),_throwInvalidProperty:a.Error.invalidClassProperty,_reMemberName:/^[a-z_][a-zA-Z0-9]*$/,_checkConstructorMember:function(t){"function"!=typeof t&&a.Error.invalidClassConstructor()},_checkOverridenMember:function(t,e){typeof t!=typeof e&&a.Error.invalidClassOverride()},_checkIfOverriddenMember:function(t,e){var n=this._extend.prototype[t];undefined!==n&&this._checkOverridenMember(e,n)},_checkMemberValue:function(t,e){"constructor"===t?this._checkConstructorMember(e):this._checkIfOverriddenMember(t,e)},_reName:/^[A-Z_$][a-zA-Z0-9]*$/,_throwInvalidName:a.Error.invalidClassName,_extend:Object,_extendDefinition:undefined,_readExtend:function(){var t=function e(t){return"string"==typeof t?Ht(t.split(".")):t}(this._initialDefinition.$extend);t&&(this._extend=t,this._extendDefinition=fe(t))},_checkExtendIsNotAnInterface:function(){c.toString.call(this._extend).includes("interfaceConstructorFunction")&&a.Error.invalidClassExtend()},_checkExtend:function(){"function"!=typeof this._extend&&a.Error.invalidClassExtend(),this._checkExtendIsNotAnInterface()},check:function(){this._readExtend(),this._checkExtend(),ae.prototype.check.call(this)}}),ee(0,{classConstructorFunction:"This is a class constructor function, use with new"}),Object.assign(le.prototype,{_resolvedConstructor:c});var he=[];function pe(t){he.push(t)}function de(t){return{name:t._name,parameters:Qt(t._resolvedConstructor).parameters,body:function e(n){return"if (!(this instanceof _classDef_._instanceBuilder)) gpf.Error.classConstructorFunction();\n"+he.reduce(function(t,e){return e(n,t)},"_classDef_._resolvedConstructor.apply(this, arguments);")}(t)}}function _e(t){return Jt(de(t),function e(t){return{gpf:a,_classDef_:t}}(t))}function me(){a.Error.invalidClassSuper()}function ve(t){return function n(t){var e=Qt(t);return e.body="return _superMethod_.apply(this, arguments);",Jt(e,{_superMethod_:t})}("function"==typeof t?t:me)}function ge(t,e,n){return"function"!=typeof n&&a.Error.invalidClassSuperMember(),function i(t,e,n){var r=Qt(n);return r.body="return _superMethod_.apply(this === _$super_ ? _that_ : this, arguments);",Jt(r,{_that_:t,_$super_:e,_superMethod_:n})}(t,e,n)}ee(0,{invalidClassSuper:"Invalid class super",invalidClassSuperMember:"Invalid class super member"});var be=/\.\$super\.(\w+)\b/g;Object.assign(le.prototype,{_get$Super:function(e,t,n){var r=this._extend.prototype,i=ve(r[t]);return n.forEach(function(t){i[t]=ge(e,i,r[t])}),i},_superifiedBody:'var _super_;\nif (this.hasOwnProperty("$super")) {\n    _super_ = this.$super;\n}\nthis.$super = _classDef_._get$Super(this, _methodName_, _superMembers_);\ntry{\n    var _result_ = _method_.apply(this, arguments);\n} finally {\n    if (undefined === _super_) {\n        delete this.$super;\n    } else {\n        this.$super = _super_;\n    }\n}\nreturn _result_;',_getSuperifiedContext:function(t,e,n){return{_method_:t,_methodName_:e,_superMembers_:n,_classDef_:this}},_createSuperified:function(t,e,n){var r=Qt(t);return r.body=this._superifiedBody,Jt(r,this._getSuperifiedContext(t,e,n))},_superify:function(t,e){return /\.\$super\b/.exec(t)?this._createSuperified(t,e,function n(t){return oe(be,t).map(function(t){return t[1]})}(t)):t}}),Object.assign(le.prototype,{_build:function(){var t,e;return this._resolveConstructor(),t=_e(this),e=Object.create(this._extend.prototype),(t.prototype=e).constructor=t,this._buildPrototype(e),t},_addMethodToPrototype:function(t,e,n){t[e]=this._superify(n,e)},_addMemberToPrototype:function(t,e,n){"function"==typeof n?this._addMethodToPrototype(t,e,n):t[e]=n},_buildPrototype:function(n){P(this._initialDefinition,function(t,e){e.startsWith("$")||"constructor"===e||this._addMemberToPrototype(n,e,t)},this)},_setResolvedConstructorToInherited:function(){this._extend!==Object&&(this._resolvedConstructor=this._extend)},_resolveConstructor:function(){this._initialDefinition.hasOwnProperty("constructor")?this._resolvedConstructor=this._superify(this._initialDefinition.constructor,"constructor"):this._setResolvedConstructorToInherited()}}),ee(0,{invalidClass$AbstractSpecification:"Invalid class $abstract specification",abstractClass:"Abstract Class"}),le.prototype._allowed$Properties.push("abstract");var ye=le.prototype._check$Property;Object.assign(le.prototype,{_abstract:!1,_check$abstract:function(t){!0!==t&&a.Error.invalidClass$AbstractSpecification()},_check$Property:function(t,e){"abstract"===t?(this._check$abstract(e),this._abstract=!0):ye.call(this,t,e)}}),pe(function(t,e){return t._abstract?"if (this.constructor === _classDef_._instanceBuilder) gpf.Error.abstractClass();\n"+e:e}),ee(0,{invalidClass$SingletonSpecification:"Invalid class $singleton specification"}),le.prototype._allowed$Properties.push("singleton");var we=le.prototype._check$Property;function Ee(t){ae.call(this,t)}function xe(t){return Jt(function e(t){return{name:t._name,body:"gpf.Error.interfaceConstructorFunction();"}}(t),function n(t){return{gpf:a,_classDef_:t}}(t))}function Se(t){return re(t).getInstanceBuilder()}function Pe(t,r){var i=!0;return P(t.prototype,function(t,e){"constructor"!==e&&function n(t,e){return"function"!=typeof e||t.length!==e.length}(t,r[e])&&(i=!1)}),i}function Oe(t,e){return Pe(t,e)?e:function r(t,e){if(Pe(a.interfaces.IUnknown,e))return function n(t,e){return e.queryInterface(t)}(t,e)}(t,e)}function Ie(t){return"string"==typeof t?Ht(t.split(".")):t}Object.assign(le.prototype,{_singleton:!1,_singletonInstance:null,_check$singleton:function(t){!0!==t&&a.Error.invalidClass$SingletonSpecification()},_check$Property:function(t,e){"singleton"===t?(this._check$singleton(e),this._singleton=!0):we.call(this,t,e)}}),pe(function(t,e){return t._singleton?"if (!_classDef_._singletonInstance) {\n"+e+"\n_classDef_._singletonInstance = this;\n}\nreturn _classDef_._singletonInstance;":e}),Ee.prototype=Object.create(ae.prototype),Object.assign(Ee.prototype,{constructor:Ee,_type:"interface"}),ne["interface"]=Ee,ee(0,{invalidInterfaceName:"Invalid interface name",invalidInterfaceProperty:"Invalid interface property"}),Object.assign(Ee.prototype,{_throwInvalidProperty:a.Error.invalidInterfaceProperty,_reMemberName:/^[a-z][a-zA-Z0-9]*$/,_reservedNames:ae.prototype._reservedNames.concat("constructor"),_checkMemberValue:function(t,e){"function"!=typeof e&&a.Error.invalidInterfaceProperty()},_reName:/^I[a-zA-Z0-9]*$/,_throwInvalidName:a.Error.invalidInterfaceName}),ee(0,{"interfaceConstructorFunction":"This is an interface constructor function, do not invoke"}),Object.assign(Ee.prototype,{_build:function(){var t,e;return delete(e=(t=xe(this)).prototype).constructor,this._buildPrototype(e),t},_buildPrototype:function(n){P(this._initialDefinition,function(t,e){e.startsWith("$")||(n[e]=t)},this)}}),a.define=Se,ee(0,{interfaceExpected:"Expected interface not implemented: {name}"});var je;a.interfaces={isImplementedBy:function(t,e){return!!e&&Pe(Ie(t),function n(t){return t instanceof Function?t.prototype:t}(e))},query:function(t,e){return Oe(Ie(t),e)}};function Ne(t,e){var n={$interface:"gpf.interfaces.I"+t};return Object.keys(e).forEach(function(t){n[t]=ue(e[t])}),Se(n)}function ke(t,e){var n,r;return r=!1===t.ascending?(n="b"+e,"a"+e):(n="a"+e,"b"+e),"if("+n+"!=="+r+")return "+function i(t,e,n){return"string"===t?e+".localeCompare("+n+")":e+"-"+n}(t.type,n,r)+";"}function Ce(t){return R(["a","b"],function n(t){return function e(t){return"var "+t.map(function(t,e){return"a"+e+"=a."+t.property+",b"+e+"=b."+t.property}).join(",")+";"}(t)+t.map(ke).join("")+"return 0;"}(t))}function Te(e,n){return function(t){return"("+t[e].map(je).join(n)+")"}}Ne("Unknown",{"queryInterface":1}),a.createSortFunction=function(t){return Ce(O(t)?t:[t])};var Ae={property:function(t){return"i."+t.property},eq:Te("eq","==="),ne:Te("ne","!=="),lt:Te("lt","<"),lte:Te("lte","<="),gt:Te("gt",">"),gte:Te("gte",">="),not:function(t){return"!"+je(t.not)},like:function(t){var e=function n(t){return"/"+t.regexp+"/.exec("+je(t.like)+")"}(t);return t.group?"("+e+"||[])["+t.group+"]":e},or:Te("or","||"),and:Te("and","&&"),undefined:function(t){return JSON.stringify(t)}},$e=Object.keys(Ae);je=function(t){var e=function n(t){if("object"==typeof t)return Object.keys(t).filter(function(t){return $e.includes(t)})[l]}(t);return(0,Ae[e])(t)},a.createFilterFunction=function(t){return R(["i"],function e(t){return"return "+je(t)}(t))};var Re=Ne("ReadableStream",{"read":1}),De=Ne("WritableStream",{"write":1});function Fe(t,e,n){return t||a.Error.interfaceExpected({name:n}),function i(t,e,n){var r=Oe(e,t);return r||a.Error.interfaceExpected({name:n}),r}(t,e,n)}function Me(t){return Fe(t,Re,"gpf.interfaces.IReadableStream")}function Be(t){return Fe(t,De,"gpf.interfaces.IWritableStream")}Ne("Enumerator",{"reset":0,"moveNext":0,"getCurrent":0}),Ne("FileStorage",{"getInfo":1,"openTextStream":2,"close":1,"explore":1,"createDirectory":1,"deleteFile":1,"deleteDirectory":1}),ee(0,{readInProgress:"A read operation is already in progress",writeInProgress:"A write operation is already in progress",invalidStreamState:"Stream is in an invalid state"}),a.stream={};var qe="gpf.stream#progress",We=qe+"/read",Ue=qe+"/write";function Le(t){t.prototype[We]=!1,t.prototype[Ue]=!1}function Xe(t,e,n){t[e]&&a.Error[n](),t[e]=!0}function Ve(t){t[We]=!1}function ze(t){t[Ue]=!1}function He(t,e,n){return t.then(function(t){return n(e),Promise.resolve(t)},function(t){return n(e),Promise.reject(t)})}function Ge(r){return function(t){var e=Be(t);return function n(t){Xe(t,We,"readInProgress")}(this),He(r.call(this,e),this,Ve)}}function Ze(n){return function(t){return function e(t){Xe(t,Ue,"writeInProgress")}(this),He(n.call(this,t),this,ze)}}var Qe=Se({$class:"gpf.stream.ReadableString",constructor:function(t){this._buffer=t},read:Ge(function(t){return t.write(this._buffer)}),_buffer:""}),Je=Se({$class:"gpf.stream.WritableString",constructor:function(){this._buffer=[]},write:Ze(function(t){return this._buffer.push(t.toString()),Promise.resolve()}),toString:function(){return this._buffer.join("")},_buffer:[]});Le(Qe),Le(Je),ee(0,{incompatibleStream:"Incompatible stream"});var Ye={NOT_FOUND:0,DIRECTORY:1,FILE:2,UNKNOWN:3},Ke=0,tn=1,en=null;function nn(t,e){t===v&&(en=new e)}function rn(t){t.length?t.pop():a.Error.unreachablePath()}function on(t){var e=function n(t){return t.includes("\\")?t.toLowerCase().split("\\"):t.split("/")}(t);return function r(t){var e=t.pop();e&&t.push(e)}(e),e}function an(t){return on(t).join("/")}function un(t){return t?on(t).pop():""}function sn(t){var e=un(t),n=e.lastIndexOf(".");return n===f?"":e.substr(n)}a.fs={types:{notFound:Ye.NOT_FOUND,directory:Ye.DIRECTORY,file:Ye.FILE,unknown:Ye.UNKNOWN},openFor:{reading:Ke,appending:tn},getFileStorage:function(){return en}},ee(0,{unreachablePath:"Unreachable path"});var cn={"":function(t){t.length=0,t.push("")},".":c,"..":function(t){rn(t)}};function fn(t){var e=on(t);return S(arguments).forEach(function r(n,t){j(on(t),function(t){var e=cn[t];e?e(n):n.push(t)})}.bind(null,e)),e.join("/")}function ln(t,e){t.length*e.length&&function n(t,e){for(;t[l]===e[l];)t.shift(),e.shift()}(t,e)}function hn(t){var e=on(t);return rn(e),e.join("/")}a.path={join:fn,parent:hn,name:un,nameOnly:function(t){var e=un(t),n=e.lastIndexOf(".");return n===f?e:e.substring(l,n)},extension:sn,relative:function eo(t,e){var n,r=on(t),i=on(e);for(ln(r,i),n=r.length;n--;)i.unshift("..");return i.join("/")}};function pn(t,e){var n,r=-1;return{reset:function(){return r=-1,Promise.resolve()},moveNext:function(){return++r,n=undefined,r<e.length?t.getInfo(e[r]).then(function(t){return n=t}):Promise.resolve()},getCurrent:function(){return n}}}var dn=Se({$class:"gpf.node.BaseStream",constructor:function(t,e){this._stream=t,"function"==typeof e&&(this._close=e),t.on("error",this._onError.bind(this))},_close:c,close:function(){return this._close()},_stream:null,_invalid:!1,_reject:a.Error.invalidStreamState,_checkIfValid:function(){this._invalid&&a.Error.invalidStreamState()},_onError:function(t){this._invalid=!0,this._reject(t)}}),_n=Se({$class:"gpf.node.ReadableStream",$extend:"gpf.node.BaseStream",read:Ge(function(n){var r=this,i=r._stream;return new Promise(function(t,e){r._reject=e,r._checkIfValid(),i.on("data",r._onData.bind(r,n)).on("end",function(){r._invalid=!0,t()})})}),_onData:function(t,e){var n=this._stream;n.pause(),t.write(e).then(function(){n.resume()},this._reject)}}),mn=Se({$class:"gpf.node.WritableStream",$extend:"gpf.node.BaseStream",write:Ze(function(n){var r=this,i=r._stream;return new Promise(function(t,e){if(r._reject=e,r._checkIfValid(),i.write(n))return t();i.once("drain",t)})})});function vn(e){return function(t){return t instanceof e?t.close():Promise.reject(new a.Error.IncompatibleStream)}}function gn(t,e){return new Promise(function(n,r){o[t].apply(o,e.concat([function(t,e){t?r(t):n(e)}]))})}function bn(t,e){return gn(t,[an(e)])}function yn(t,e){return gn("open",[an(t),e.flags]).then(function(t){return new e.GpfStream(o[e.nodeStream]("",{fd:t,autoClose:!1}),gn.bind(null,"close",[t]))})}function wn(t){return t.isDirectory()?Ye.DIRECTORY:function e(t){return t.isFile()?Ye.FILE:Ye.UNKNOWN}(t)}nn(h,Se({$class:"gpf.node.FileStorage",getInfo:function(t){var e=an(t);return new Promise(function(t){o.exists(e,t)}).then(function(t){return t?bn("stat",e).then(function(t){return{fileName:n.basename(e),filePath:an(n.resolve(e)),size:t.size,createdDateTime:t.ctime,modifiedDateTime:t.mtime,type:wn(t)}}):{type:Ye.NOT_FOUND}})},openTextStream:function(t,e){return Ke===e?function n(t){return yn(t,{flags:"r",GpfStream:_n,nodeStream:"createReadStream"})}(t):function r(t){return yn(t,{flags:"a",GpfStream:mn,nodeStream:"createWriteStream"})}(t)},close:vn(dn),explore:function(e){var n=this;return bn("readdir",e).then(function(t){return pn(n,t.map(function(t){return fn(e,t)}))})},createDirectory:bn.bind(null,"mkdir"),deleteFile:bn.bind(null,"unlink"),deleteDirectory:bn.bind(null,"rmdir")}));var En=Se({$class:"gpf.wscript.BaseStream",constructor:function(t){this._file=t},close:function(){return new Promise(function(t){this._file.Close(),t()}.bind(this))}}),xn=Se({$class:"gpf.wscript.ReadableStream",$extend:"gpf.wscript.BaseStream",read:Ge(function(n){var r=this._file;return new Promise(function(t){return function e(){return n.write(r.Read(4096)).then(function(){if(!r.AtEndOfStream)return e()})}().then(t)})})}),Sn=Se({$class:"gpf.wscript.WritableStream",$extend:"gpf.wscript.BaseStream",write:Ze(function(e){var n=this._file;return new Promise(function(t){n.Write(e),t()})})});function Pn(t,e){return{type:e,fileName:t.Name.toLowerCase(),filePath:an(t.Path),size:t.Size,createdDateTime:new Date(t.DateCreated),modifiedDateTime:new Date(t.DateLastModified)}}function On(e,n){return new Promise(function(t){i[e](on(n).join("\\"),!0),t()})}function In(t){return i.FolderExists(t)?Pn(i.GetFolder(t),Ye.DIRECTORY):function e(t){return i.FileExists(t)?Pn(i.GetFile(t),Ye.FILE):{type:Ye.NOT_FOUND}}(t)}function jn(t){for(var e=new Enumerator(t),n=[];!e.atEnd();e.moveNext())n.push(e.item().Path);return n}ee(0,{pathNotExplorable:"Path not explorable"});nn(m,Se({$class:"gpf.wscript.FileStorage",getInfo:function(t){return Promise.resolve(In(on(t).join("\\")))},openTextStream:function(t,e){var n=on(t).join("\\");return new Promise(function(t){t(Ke===e?new xn(i.OpenTextFile(n,1,!1)):new Sn(i.OpenTextFile(n,8,!0)))})},close:vn(En),explore:function(e){var r=this;return new Promise(function(t){t(pn(r,function n(t){var e;if(i.FolderExists(t))return jn((e=i.GetFolder(t)).SubFolders).concat(jn(e.Files));a.Error.pathNotExplorable()}(on(e).join("\\"))))})},createDirectory:function no(e,n){return new Promise(function(t){i[e](on(n).join("\\")),t()})}.bind(null,"CreateFolder"),deleteFile:On.bind(null,"DeleteFile"),deleteDirectory:On.bind(null,"DeleteFolder")}));var Nn=Object.prototype.toString;function kn(t){return t instanceof Object&&"[object Object]"===Nn.call(t)&&Object.getPrototypeOf(t)===Object.getPrototypeOf({})}a.isLiteralObject=kn,ee(0,{missingNodeName:"Missing node name",unknownNamespacePrefix:"Unknown namespace prefix",unableToUseNamespaceInString:"Unable to use namespace in string"});var Cn={"className":"class"},Tn={"svg":"http://www.w3.org/2000/svg","xlink":"http://www.w3.org/1999/xlink"};function An(t){var e=t.split(":");if(2===e.length)return{namespace:function n(t){var e=Tn[t];return undefined===e&&a.Error.unknownNamespacePrefix(),e}(e[0]),name:e[1]}}function $n(t){t.includes(":")&&a.Error.unableToUseNamespaceInString()}function Rn(t){return Cn[t]||t}function Dn(t,e){t.forEach(function(t){O(t)?Dn(t,e):e(t)})}var Fn=Se({$class:"gpf.web.Tag",constructor:function(t,e,n){this._nodeName=t,this._attributes=e||{},this._children=n},_nodeName:"",_attributes:{},_children:[],_getAttributesAsString:function(){return Object.keys(this._attributes).map(function(t){return $n(t)," "+Rn(t)+'="'+M(this._attributes[t],"html")+'"'},this).join("")},_getChildrenAsString:function(){var e=[];return Dn(this._children,function(t){e.push(t.toString())}),e.join("")},_getClosingString:function(){return this._children.length?">"+this._getChildrenAsString()+"</"+this._nodeName+">":"/>"},toString:function(){return $n(this._nodeName),"<"+this._nodeName+this._getAttributesAsString()+this._getClosingString()},_createElement:function(t){var e=t.ownerDocument,n=An(this._nodeName);return n?e.createElementNS(n.namespace,n.name):e.createElement(this._nodeName)},_setAttributesTo:function(r){P(this._attributes,function(t,e){var n=An(e);n?r.setAttributeNS(n.namespace,Rn(n.name),t):r.setAttribute(Rn(e),t)})},_appendChildrenTo:function(e){var n=e.ownerDocument;Dn(this._children,function(t){t instanceof Fn?t.appendTo(e):e.appendChild(n.createTextNode(t.toString()))})},appendTo:function(t){var e=this._createElement(t);return this._setAttributesTo(e),this._appendChildrenTo(e),t.appendChild(e)}});a.web.createTagFunction=function ro(r){return r||a.Error.missingNodeName(),function(t){var e,n=0;return kn(t)&&(e=t,++n),new Fn(r,e,E(arguments,n))}},a.http={};var Mn={GET:"GET",POST:"POST",PUT:"PUT",OPTIONS:"OPTIONS",DELETE:"DELETE",HEAD:"HEAD"},Bn=/([^:\s]+)\s*: ?([^\r]*)/gm,qn=1,Wn=2;function Un(r){return function(e,n){n&&Object.keys(n).forEach(function(t){e[r](t,n[t])})}}function Ln(n){return function(t,e){e?t[n](e):t[n]()}}function Xn(e,r,i){return function(t){return{status:t[e],headers:function n(t){var e={};return j(oe(Bn,t),function(t){e[t[qn]]=t[Wn]}),e}(t[r]()),responseText:t[i]}}}var Vn;Ne("Thenable",{"then":2});function zn(t){return a.interfaces.isImplementedBy(a.interfaces.IThenable,t)?t:Promise.resolve(t)}function Hn(t,e){var n=Vn;return t===v&&(Vn=e),n}function Gn(n){return new Promise(function(t,e){Vn(n,t,e)})}function Zn(t,e,n){return Gn("string"==typeof e?{method:t,url:e,data:n}:Object.assign({method:t},e))}a.promisify=zn,a.promisifyDefined=function io(t){if(undefined!==t)return zn(t)},Object.assign(a.http,{methods:{get:Mn.GET,post:Mn.POST,put:Mn.PUT,options:Mn.OPTIONS,"delete":Mn.DELETE,head:Mn.HEAD},request:Gn,get:Zn.bind(a.http,Mn.GET),post:Zn.bind(a.http,Mn.POST),put:Zn.bind(a.http,Mn.PUT),options:Zn.bind(a.http,Mn.OPTIONS),"delete":Zn.bind(a.http,Mn.DELETE),head:Zn.bind(a.http,Mn.HEAD)});var Qn=4,Jn=Un("setRequestHeader"),Yn=Ln("send"),Kn=Xn("status","getAllResponseHeaders","responseText");function tr(t,e){var n=function r(t){var e=new XMLHttpRequest;return e.open(t.method,t.url),e}(t);Jn(n,t.headers),function i(t,e){t.onreadystatechange=function(){t.readyState===Qn&&e()}}(n,function(){e(Kn(n))}),Yn(n,t.data)}function er(t){var e=new Je;return Me(t).read(e).then(function(){return e.toString()})}function nr(t){var e=Object.assign(r.parse(t.url),t);return function n(t,e){e&&(t.headers=Object.assign({"Content-Type":"application/x-www-form-urlencoded","Content-Length":Buffer.byteLength(e)},t.headers))}(e,t.data),e}function rr(t,e){var n=nr(t);return function r(t){return"https:"===t.protocol?s:u}(n).request(n,function(t){!function i(e,n){e.setEncoding("utf8");var r=new _n(e);er(r).then(function(t){r.close(),n({status:e.statusCode,headers:e.headers,responseText:t})})}(t,e)})}Hn(t,tr),Hn(p,tr),Hn(h,function oo(t,e,n){var r=rr(t,e);r.on("error",n),function i(t,e){e?t.write(e,"utf8",function(){t.end()}):t.end()}(r,t.data)});var ir=Un("setRequestHeader"),or=Ln("Send"),ar=Xn("Status","GetAllResponseHeaders","ResponseText");Hn(m,function ao(t,e){var n=function r(t){var e=new ActiveXObject("WinHttp.WinHttpRequest.5.1");return e.Open(t.method,t.url),e}(t);ir(n,t.headers),or(n,t.data),function i(t,e){e(ar(t))}(n,e)});var ur=Se({$class:"gpf.java.BaseStream",constructor:function(t){this._stream=t},close:function(){return this._stream.close(),Promise.resolve()},_stream:null}),sr=Se({$class:"gpf.java.ReadableStream",$extend:ur,_handleError:function(t){return t instanceof java.util.NoSuchElementException||t.message.startsWith("java.util.NoSuchElementException")?Promise.resolve():Promise.reject(t)},read:Ge(function(t){try{var e=new java.util.Scanner(this._stream);return t.write(String(e.useDelimiter("\\A").next()))}catch(e_){return this._handleError(e_)}})}),cr=Se({$class:"gpf.java.WritableStream",$extend:ur,constructor:function(t){this.$super(t),this._writer=new java.io.OutputStreamWriter(t)},write:Ze(function(t){var e=this._writer;return e.write(t),e.flush(),Promise.resolve()}),close:function(){return this._writer.close(),this.$super()},_writer:null}),fr=Un("setRequestProperty");function lr(e,n){(function r(t){var e=new sr(function n(t){try{return t.getInputStream()}catch(e_){return t.getErrorStream()}}(t));return er(e).then(function(t){return e.close(),t})})(e).then(function(t){n({status:e.getResponseCode(),headers:function r(t){var e={},n=t.getHeaderFields();return j(n.keySet().toArray(),function(t){e[String(t)]=String(n.get(t).get(l))}),e}(e),responseText:t})})}function hr(t,e){var n=new java.net.URL(t.url).openConnection();n.setRequestMethod(t.method),fr(n,t.headers),function r(t,e){if(e){t.setDoOutput(!0);var n=new cr(t.getOutputStream());return n.write(e).then(function(){n.close()})}return Promise.resolve()}(n,t.data).then(function(){lr(n,e)})}Hn(d,hr),Hn(e,hr);var pr={};function dr(t,e){var n;return t.every(function(t){return(n=function i(t,e){var n,r=t.url;if(r.lastIndex=0,n=r.exec(e.url))return t.response.apply(t,[e].concat(S(n)))}(t,e))===undefined}),n}var _r,mr=0;function vr(){Object.keys(Mn).forEach(function(t){pr[t]=[]})}function gr(){}vr(),a.http.mock=function uo(t){var e,n=t.method;return e=n+"."+ ++mr,pr[n].unshift(Object.assign({id:e},t)),e},a.http.mock.remove=function so(e){var t=e.substring(l,e.indexOf("."));pr[t]=pr[t].filter(function(t){return t.id!==e})},a.http.mock.reset=vr,_r=Hn(v,function co(t,e,n){var r=function i(t){return dr(pr[t.method],t)}(t);undefined===r?_r(t,e,n):e(r)}),gr.prototype={execute:c};var br=new gr,yr=new gr;br.execute=function(t){t._readReject(t._readBuffer.shift())},yr.execute=function(t){t._readResolve()};var wr=Se({$class:"gpf.stream.BufferedRead",constructor:function(){this._readBuffer=[]},_readBuffer:[],_readWriteToStream:null,_readResolve:null,_readReject:null,_readDataIsToken:function(t){return t instanceof gr&&(t.execute(this),!0)},_readWriteToOutput:function(){var t=this,e=t._readBuffer.shift();return t._readDataIsToken(e)?Promise.resolve():t._readWriteToStream.write(e).then(function(){if(t._readBuffer.length)return t._readWriteToOutput();t._readNotWriting=!0})},_readNotWriting:!0,_readSafeWrite:function(){var e=this;e._readNotWriting&&(e._readNotWriting=!1,e._readWriteToOutput().then(undefined,function(t){e._readReject(t)}))},_readCheckIfData:function(){this._readBuffer.length&&this._readSafeWrite()},_readCheckIfOutput:function(){this._readWriteToStream&&this._readCheckIfData()},_appendToReadBuffer:function(t){return this._readBuffer=this._readBuffer.concat(E(arguments)),this._readCheckIfOutput(),this},_completeReadBuffer:function(){this._readBuffer.push(yr),this._readCheckIfOutput()},_setReadError:function(t){this._readBuffer.push(br,t),this._readCheckIfOutput()},read:Ge(function(t){var n=this;return n._readWriteToStream=t,n._readCheckIfData(),new Promise(function(t,e){n._readResolve=t,n._readReject=e})})});Le(wr);var Er=/\r\n/g,xr=(Se({$class:"gpf.stream.LineAdapter",$extend:wr,constructor:function(){this.$super(),this._buffer=[]},write:Ze(function(t){return this._buffer.push(t.toString()),this._process(),Promise.resolve()}),flush:function(){return this._buffer.length&&(this._buffer.push("\n"),this._process()),this._completeReadBuffer(),Promise.resolve()},_buffer:[],_consolidateLines:function(){return this._buffer.join("").replace(Er,"\n").split("\n")},_pushBackLastLineIfNotEmpty:function(t){var e=t.pop();e.length&&this._buffer.push(e)},_process:function(){var e=this,t=e._consolidateLines();e._buffer.length=0,e._pushBackLastLineIfNotEmpty(t),j(t,function(t){e._appendToReadBuffer(t)})}}),Ne("FlushableStream",{"flush":0})),Sr={};function Pr(t,e){t===v&&(Sr=e)}function Or(t){return Sr(t)}a.read=Or,a.fs&&(a.fs.read=Or);Pr(t,function fo(t){return Gn({method:Mn.GET,url:t}).then(function(t){if(2!==Math.floor(t.status/100))throw new Error(t.responseText);return t.responseText})}),Pr(e,function lo(t){var o=java.nio.file.Paths.get(t);return java.nio.file.Files.exists(o)?new Promise(function(t,e){var n=java.nio.file.Files.newInputStream(o),r=new sr(n),i=new Je;return r.read(i).then(function(){t(i.toString())})["catch"](e)}):Promise.reject(new Error("File not found"))}),Pr(h,function ho(t){return new Promise(function(n,r){o.readFile(t,function(t,e){t?r(t):n(e.toString())})})}),Pr(p,function po(r){return new Promise(function(t,e){try{t(o.read(r))}catch(e_){e(new Error(e_))}})}),Pr(d,function _o(e){return new Promise(function(t){t(readFile(e))})}),Pr(m,function mo(n){return new Promise(function(t){var e=i.OpenTextFile(n,1,!1);t(e.ReadAll()),e.Close()})});var Ir={};function jr(n){var r=this;return function i(t,e){var n=t.preload[e];return n?Promise.resolve(n):Or(e)}(r,n).then(function(t){var e=Ir[sn(n).toLowerCase()];return e?e.call(r,n,t):t})}function Nr(t,e){return function r(t,e){return t._initialDefine=e.define,e.define=function n(){var t=this.gpf.require,e=this._initialDefine;return this.promise=e.apply(t,arguments),t.define=e,this.promise}.bind(t),t.gpf.require=e,t}(function n(){return{gpf:Object.create(a),promise:Promise.resolve(),_initialDefine:null}}(),qr(t,{base:hn(e)}))}Ir[".json"]=function(t,e){return JSON.parse(e)},ee(0,{noCommonJSDynamicRequire:"Dynamic require not supported"});var kr=/[^.]\brequire\b\s*\(\s*(?:['|"]([^"']+)['|"]|[^)]+)\s*\)/g;var Cr,Tr=[null,function vo(t){return{dependencies:[],factory:t}},function go(t,e){return{dependencies:t,factory:e}},function bo(t,e,n){return{dependencies:e,factory:n}}];function Ar(t,e,n){var r={};return R(["gpf","define","module","require"],e)(t,function i(t,e,n){var r=Tr[arguments.length].apply(null,arguments);this.require.define(r.dependencies,function(t){return t.length=r.dependencies.length,r.factory.apply(null,E(t))})}.bind(t),r,function(t){return n[t]||a.Error.noCommonJSDynamicRequire()}),r.exports}Cr=t===v?function yo(t,e){var n=location.pathname.toString();return n.endsWith("/")||(n=hn(n)),"//# sourceURL="+location.origin+fn(n,t)+"?gpf.require\n"+e}:function wo(t,e){return e},Ir[".js"]=function(n,r){var i=Nr(this,n);return function o(t,e){var n=oe(kr,e);return n.length?Nr(this,t).gpf.require.define(n.map(function(t){return t[1]}).filter(function(t){return t}).reduce(function(t,e){return t[e]=e,t},{}),function(t){return t}):Promise.resolve({})}.call(this,n,r).then(function(t){var e=Ar(i.gpf,Cr(n,r),t);return undefined===e?i.promise:e})},ee(0,{invalidRequireConfigureOption:"Invalid configuration option"});var $r=-1,Rr=1;function Dr(t){return"clearCache"===t?$r:Rr}var Fr={base:function(t){this.base=t},cache:function(e){j(Object.keys(e),function(t){this.cache[t]=Promise.resolve(e[t])},this)},clearCache:function(){this.cache={}},preload:function(e){j(Object.keys(e),function(t){this.preload[t]=e[t]},this)}};function Mr(t){return fn(this.base,t)}function Br(e){var t;return this.cache[e]?this.cache[e]:(t=jr.call(this,e),(this.cache[e]=t)["catch"](function(t){return function n(t,e){Array.isArray(t.requires)||(t.requires=[]),t.requires.push(e)}(t,e),Promise.reject(t)}))}function qr(t,e){var n=Object.create(t),r={};return r.define=function o(e,t){var n=this,r=[],i=Object.keys(e);return j(i,function(t){r.push(Br.call(n,Mr.call(n,e[t])))},n),Promise.all(r).then(function(n){var r;return"function"==typeof t?(r={},j(i,function(t,e){r[t]=n[e]}),t(r)):t})}.bind(n),r.resolve=Mr.bind(n),r.configure=function i(e){var n=this;j(Object.keys(e).sort(function(t,e){return Dr(t)-Dr(e)}),function(t){(Fr[t]||a.Error.invalidRequireConfigureOption).call(n,e[t])},n)}.bind(n),e&&r.configure(e),r}a.require=qr({base:"",cache:{},preload:{}});var Wr=Se({$class:"gpf.stream.ReadableArray",constructor:function(t){this._buffer=t},read:Ge(function(t){var e=this._buffer,n=0;return function r(){return e.length===n?Promise.resolve():t.write(e[n++]).then(r)}()}),_buffer:[]}),Ur=Se({$class:"gpf.stream.WritableArray",constructor:function(){this._buffer=[]},write:Ze(function(t){return this._buffer.push(t),Promise.resolve()}),toArray:function(){return this._buffer},_buffer:[]});Le(Wr),Le(Ur);var Lr={flush:Promise.resolve.bind(Promise)};function Xr(t){return Oe(xr,t)||Lr}function Vr(t){if(t.readError)return Promise.reject(t.readError)}function zr(t,e){var n=function u(t,e){return{iReadableIntermediate:Me(t),iWritableIntermediate:Be(t),iFlushableIntermediate:Xr(t),iWritableDestination:Be(e),iFlushableDestination:Xr(e),readError:null,rejectWrite:c}}(t,e),r=function s(e){var n=!0,r=e.iReadableIntermediate,i=e.iWritableDestination;return function(){if(n)try{n=!1,r.read(i).then(function(){n=!0},function(t){e.readError=t,e.rejectWrite(t)})}catch(e_){e.readError=e_}}}(n),i=n.iFlushableIntermediate,o=n.iFlushableDestination,a=n.iWritableIntermediate;return r(),{flush:function(){return Vr(n)||i.flush().then(function(){return o.flush()})},write:function(t){return r(),Vr(n)||function e(n,r){return new Promise(function(e,t){r.then(function(t){e(t),n.rejectWrite=c},t),n.rejectWrite=t})}(n,a.write(t))}}}function Hr(t){return S(t).length?function r(t){for(var e=t.length,n=t[--e];e;)n=zr(t[--e],n);return n}(t):Be(t[l])}a.stream.pipe=function Eo(t,e){var n=Me(t),r=Hr(S(arguments)),i=Xr(r);try{return n.read(r).then(function(){return i.flush()})}catch(e_){return Promise.reject(e_)}},F.regexp={"\\":"\\\\","-":"\\-","[":"\\[","]":"\\]","/":"\\/","{":"\\{","}":"\\}","(":"\\(",")":"\\)","*":"\\*","+":"\\+","?":"\\?",".":"\\.","^":"\\^","$":"\\$","|":"\\|"},ee(0,{invalidCSV:"Invalid CSV syntax (bad quote sequence or missing end of file)"}),a.stream.csv={};var Gr=";,\t ".split("");Se({$class:"gpf.stream.csv.Parser",$extend:wr,constructor:function(t){this._readParserOptions(t),this._header?this._parseHeader():this._write=this._writeHeader},_readParserOptions:function(e){var n=this;e&&j(["header","separator","quote","newLine"],function(t){e[t]&&(n["_"+t]=e[t])})},_header:"",_separator:"",_deduceSeparator:function(){var e=this._header;this._separator=k(Gr,function(t){if(e.includes(t))return t})||Gr[l]},_quote:'"',_newLine:"\n",_columns:[],_buildParsingHelpers:function(){this._unescapeDictionary={},this._unescapeDictionary[this._quote+this._quote]=this._quote,this._parser=new RegExp(D("^(?:([^QS][^S]*)|Q((?:[^Q]|QQ)+)Q)(?=$|S)",{Q:M(this._quote,"regexp"),S:M(this._separator,"regexp")}))},_parseHeader:function(){this._separator||this._deduceSeparator(),this._columns=this._header.split(this._separator),this._buildParsingHelpers(),this._write=this._writeContent},_writeHeader:function(t){this._header=t,this._parseHeader()},_values:[],_content:"",_unescapeQuoted:function(t){return D(t,this._unescapeDictionary)},_addValue:function(t){t[1]?this._values.push(t[1]):this._values.push(this._unescapeQuoted(t[2]))},_nextValue:function(t){return this._content=this._content.substr(t),Boolean(this._content.length)},_checkAfterValue:function(t){var e=t[l].length;return this._content.charAt(e)?this._nextValue(++e):(delete this._content,!1)},_extractValue:function(){var t=this._parser.exec(this._content);return!!t&&(this._addValue(t),this._checkAfterValue(t))},_checkForValue:function(){return this._content.startsWith(this._separator)?(this._values.push(""),this._nextValue(this._separator.length)):this._extractValue()},_parseValues:function(){for(;this._checkForValue(););},_parseContent:function(){if(this._parseValues(),!this._content)return this._values},_processContent:function(t){return this._content?this._content=this._content+this._newLine+t:(this._values=[],this._content=t),this._parseContent()},_getRecord:function(n){var r={};return j(this._columns,function(t,e){n[e]!==undefined&&(r[t]=n[e])}),r},_writeContent:function(t){var e=this._processContent(t);e&&this._appendToReadBuffer(this._getRecord(e))},write:Ze(function(t){return this._write(t),Promise.resolve()}),flush:function(){if(this._content){var t=new a.Error.InvalidCSV;return this._setReadError(t),Promise.reject(t)}return this._completeReadBuffer(),Promise.resolve()}});a.attributes={};var Zr=Se({$class:"gpf.attributes.Attribute",$abstract:!0,_memberName:undefined,getMemberName:function(){return this._memberName},_ClassConstructor:undefined,getClassConstructor:function(){return this._ClassConstructor},_check:function(t,e){},_build:function(t,e,n){}});ee(0,{unknownAttributesSpecification:"Unknown attributes specification",invalidAttributesSpecification:"Invalid attributes specification"});var Qr="attributes",Jr="$"+Qr,Yr=/^\[([^\]]+)\]$|./,Kr=le.prototype._checkMemberName,ti=le.prototype._checkMemberValue,ei=le.prototype._check$Property,ni=le.prototype.check;function ri(t,e){e._check(t,this)}function ii(t){return Yr.exec(t)[1]}Object.assign(le.prototype,{_hasInheritedMember:function(t){return this._extend&&this._extend.prototype[t]!==undefined},_hasMember:function(t){return this._initialDefinition.hasOwnProperty(t)||this._hasInheritedMember(t)},_checkAttributeMemberExist:function(t){this._hasMember(t)||a.Error.unknownAttributesSpecification()},_checkMemberName:function(t){var e=ii(t);e?(Kr.call(this,e),this._checkAttributeMemberExist(e)):Kr.call(this,t)},_checkAttributesSpecification:function(t){I(t)||a.Error.invalidAttributesSpecification(),j(t,function(t){t instanceof Zr||a.Error.invalidAttributesSpecification()})},_checkMemberValue:function(t,e){var n=ii(t);n?(this._checkAttributesSpecification(e),this._addAttributesFor(n,e)):ti.call(this,t,e)},_check$Property:function(t,e){Qr===t?(this._checkAttributesSpecification(e),this._addAttributesFor(Jr,e)):ei.call(this,t,e)},check:function(){this._attributes={},ni.call(this),this._forOwnAttributes(ri)}}),le.prototype._allowed$Properties.push(Qr);var oi=le.prototype._addMemberToPrototype,ai=le.prototype._buildPrototype;function ui(t,e,n){fe(e.constructor)._singleton||(e._memberName=t,e._ClassConstructor=n.constructor),e._build(t,this,n)}function si(t){if(t)return function e(t){return"object"!=typeof t&&a.Error.invalidParameter(),t.constructor}(t);a.Error.invalidParameter()}function ci(t,e){return function r(t,e){var n=fe(t);return n?n.getAttributes(e):{}}("function"==typeof t?t:si(t),e)}Object.assign(le.prototype,{_attributes:{},_addAttributesFor:function(t,e){this._attributes[t]=e},_addMemberToPrototype:function(t,e,n){ii(e)||oi.call(this,t,e,n)},_buildPrototype:function(t){ai.call(this,t),this._forOwnAttributes(ui,t)}}),Object.assign(le.prototype,{_collectOwnAttributes:function(o,a){P(this._attributes,function(t,e){var n=function r(t,e){return e?t.filter(function(t){return t instanceof e}):t}(t,a);n.length&&function i(t,e,n){t[e]=(t[e]||[]).concat(n)}(o,e,n)})},_getOwnAttributes:function(){var t={};return this._collectOwnAttributes(t),t},_collectAttributes:function(t,e){this._collectOwnAttributes(t,e),this._extendDefinition&&this._extendDefinition._collectAttributes(t,e)},_forOwnAttributes:function(r,i){var o=this,t=o._getOwnAttributes();P(t,function(t,e){var n;Jr!==e&&(n=e),j(t,function(t){r.call(o,n,t,i)})})},getAttributes:function(t){var e={};return this._collectAttributes(e,t),e}}),a.attributes.get=ci;var fi={},li=Se({$class:"gpf.stream.AbstractOperator",_dataInPromise:undefined,_dataInResolve:c,_dataOutResolve:c,_dataOutReject:c,_waitForData:function(){var e=this;return e._dataInPromise||(e._dataInPromise=new Promise(function(t){e._dataInResolve=t}).then(function(t){return delete e._dataInPromise,delete e._dataInResolve,t})),e._dataInPromise},_writeData:function(t){var n=this;return n._waitForData(),n._dataInResolve(t),new Promise(function(t,e){n._dataOutResolve=t,n._dataOutReject=e}).then(function(t){return delete n._dataOutResolve,delete n._dataOutReject,t},function(t){return delete n._dataOutResolve,delete n._dataOutReject,Promise.reject(t)})},read:Ge(function(e){var n=this;return n._waitForData().then(function(t){return fi!==t?e.write(t).then(n._dataOutResolve,n._dataOutReject):(n._dataOutResolve(),Promise.resolve())})}),_process:ue(),write:Ze(function(t){return this._process(t)}),flush:function(){return this._dataInPromise?this._writeData(fi):Promise.resolve()}});Le(li);Se({$class:"gpf.stream.Filter",$extend:li,constructor:function(t){this._filter=t},_process:function(t){return this._filter(t)?this._writeData(t):Promise.resolve()}}),Se({$class:"gpf.stream.Map",$extend:li,constructor:function(t){this._map=t},_process:function(t){return this._writeData(this._map(t))}}),Ne("XmlContentHandler",{"characters":1,"endDocument":0,"endElement":0,"endPrefixMapping":1,"processingInstruction":2,"startDocument":0,"startElement":2,"startPrefixMapping":2});function hi(e,n){return function(t){t.match(e)||a.Error["invalidXml"+n]()}}ee(0,{invalidXmlElementName:"Invalid XML element name",invalidXmlAttributeName:"Invalid XML attribute name",invalidXmlNamespacePrefix:"Invalid XML namespace prefix",invalidXmlUseOfPrefixXmlns:"Invalid use of XML namespace prefix xmlns",invalidXmlUseOfPrefixXml:"Invalid use of XML namespace prefix xml",unknownXmlNamespacePrefix:"Unknown XML namespace prefix"});var pi=/^[a-zA-Z_][a-zA-Z0-9_\-\.]*$/,di=/^(|[a-z_][a-zA-Z0-9_]*)$/,_i=hi(pi,"ElementName"),mi=hi(pi,"AttributeName"),vi=hi(di,"NamespacePrefix");function gi(t){"xmlns"===t&&a.Error.invalidXmlUseOfPrefixXmlns()}function bi(t,e){_i(t),vi(e),gi(e)}function yi(t,e){e.includes(t)||a.Error.unknownXmlNamespacePrefix()}function wi(o,a){return function(t,e){var n,r,i=t.indexOf(":");i===f?o(t):(r=t.substring(l,i),n=t.substring(++i),a(n,r,e))}}var Ei=wi(_i,function xo(t,e,n){bi(t,e),"xml"===e?a.Error.invalidXmlUseOfPrefixXml():yi(e,n)});var xi=wi(mi,function So(t,e,n){bi(t,e),"xml"===e?function r(t){"space"!==t&&a.Error.invalidXmlUseOfPrefixXml()}(t):yi(e,n)});a.interfaces.promisify=function Po(n){return function(t){var e=Oe(n,t);return e||a.Error.interfaceExpected({name:n.compatibleName()}),function i(n,t,r){var e=r.then;return r.then=function(){return i(n,t,e.apply(r,arguments))},P(t.prototype,function(t,e){r[e]=function(){var t=arguments;return r.then(function(){return zn(n[e].apply(n,t))})}}),r}(e,n,Promise.resolve())}},ee(0,{invalidXmlWriterState:"Invalid XML Writer state"});Se({$class:"gpf.xml.Writer",$extend:wr,constructor:function(){this._elements=[],this._nextNamespaces={},this._checkIfStarted=a.Error.invalidXmlWriterState},_elements:[],_nextNamespaces:{},_checkIfElementsExist:function(t){t!==Boolean(this._elements.length)&&a.Error.invalidXmlWriterState()},_checkState:function(t){this._checkIfStarted(),undefined!==t&&this._checkIfElementsExist(t)},_addContentToElement:function(t){t.content||(this._appendToReadBuffer(">"),t.content=!0)},_addContentToLastElement:function(){var t=this._elements[l];if(t)return this._addContentToElement(t)},_writeAttribute:function(t,e){this._appendToReadBuffer(" "+t+'="'),this._appendToReadBuffer(M(e.toString(),"xml")),this._appendToReadBuffer('"')},_getNamespacePrefixes:function(){return this._elements.reduce(function(t,e){return t.concat(Object.keys(e.namespaces))},[])},_processAttributes:function(t){P(t,function(t,e){xi(e,this._getNamespacePrefixes()),this._writeAttribute(e,t)},this)},_processNamespaces:function(t){P(t,function(t,e){e?this._writeAttribute("xmlns:"+e,t):this._writeAttribute("xmlns",t)},this)},characters:function(t){return this._checkState(!0),this._addContentToLastElement(),this._appendToReadBuffer(M(t.toString(),"xml")),Promise.resolve()},endDocument:function(){return this._checkState(!1),this._checkIfStarted=a.Error.invalidXmlWriterState,this._completeReadBuffer(),Promise.resolve()},endElement:function(){this._checkState(!0);var t=this._elements.shift();return t.content?this._appendToReadBuffer("</"+t.qName+">"):this._appendToReadBuffer("/>"),Promise.resolve()},endPrefixMapping:function(t){return this._checkState(),Promise.resolve()},processingInstruction:function(t,e){return this._checkState(!1),this._appendToReadBuffer("<?"+t+" "+e+"?>\n"),Promise.resolve()},startDocument:function(){return this._checkIfStarted=c,this.startDocument=a.Error.invalidXmlWriterState,this._checkState(!1),Promise.resolve()},startElement:function(t,e){var n=this._nextNamespaces;this._checkState(),this._addContentToLastElement(),this._elements.unshift({qName:t,namespaces:n}),this._nextNamespaces={},Ei(t,this._getNamespacePrefixes()),this._appendToReadBuffer("<"+t),e&&this._processAttributes(e),this._processNamespaces(n)},startPrefixMapping:function(t,e){this._checkState(),function n(t){vi(t),gi(t),"xml"===t&&a.Error.invalidXmlUseOfPrefixXml()}(t),this._nextNamespaces[t]&&a.Error.invalidXmlWriterState(),this._nextNamespaces[t]=e}});a.forEachAsync=function(t,e,n){if(I(t))return function s(n,r,i){var o=0,a=n.length;return function u(){if(o===a)return Promise.resolve();var t=o++;try{return zn(r.call(i,n[t],t,n)).then(u)}catch(e_){return Promise.reject(e_)}}()}(t,e,n);a.Error.invalidParameter()},ee(0,{invalidSerialName:"Invalid serial name",invalidSerialType:"Invalid serial type",invalidSerialRequired:"Invalid serial required"}),a.serial={};var Si={STRING:"string",INTEGER:"integer",DATETIME:"datetime"};a.serial.types={string:Si.STRING,integer:Si.INTEGER,datetime:Si.DATETIME};var Pi=/^[a-z][a-z0-9_]*$/i;function Oi(t){!function e(t){"string"!=typeof t&&a.Error.invalidSerialName()}(t.name),function n(t){t.match(Pi)||a.Error.invalidSerialName()}(t.name)}var Ii=Object.keys(Si).map(function(t){return Si[t]});function ji(t){undefined===t.type?t.type=Si.STRING:function e(t){Ii.includes(t)||a.Error.invalidSerialType()}(t.type)}function Ni(t){undefined===t.required?t.required=!1:function e(t){"boolean"!=typeof t&&a.Error.invalidSerialRequired()}(t.required)}function ki(t){t&&a.Error.classAttributeOnly()}function Ci(t,e){t!==e&&function n(t,e){t.prototype instanceof e||a.Error.restrictedBaseClassAttribute()}(t,e)}function Ti(t,e){Ci(t._extend,e)}function Ai(t,e,n){S(function i(t,e,n){var r=e.getAttributes(n);return t?r[t]:r[Jr]}(t,e,n)).length&&a.Error.uniqueAttributeUsedTwice()}ee(0,{classAttributeOnly:"Class attribute only",memberAttributeOnly:"Member attribute only",restrictedBaseClassAttribute:"Restricted base class attribute",uniqueAttributeUsedTwice:"Unique attribute used twice"});var $i=Se({$class:"gpf.attributes.AttributeAttribute",$extend:Zr,$abstract:!0,_check:function(t,e){ki(t),Ti(e,Zr),Ai(t,e,this.constructor)},_targetCheck:ue(),_overrideTargetCheck:function(t){var n=this,r=t._check;t._check=function(t,e){n._targetCheck(t,e,this),r.call(this,t,e)}},_build:function(t,e,n){this._overrideTargetCheck(n)}}),Ri=Se({$class:"gpf.attributes.ClassAttribute",$extend:$i,$singleton:!0,_targetCheck:function(t,e){ki(t)}});a.attributes.ClassAttribute=Ri;var Di=Se({$class:"gpf.attributes.MemberAttribute",$extend:$i,$singleton:!0,_targetCheck:function(t,e){!function n(t){t||a.Error.memberAttributeOnly()}(t)}});a.attributes.MemberAttribute=Di;var Fi=Se({$class:"gpf.attributes.AttributeForInstanceOf",$extend:$i,_BaseClass:null,constructor:function(t){"function"!=typeof t&&a.Error.invalidParameter(),this._BaseClass=t},_targetCheck:function(t,e){Ti(e,this._BaseClass)}});a.attributes.AttributeForInstanceOf=Fi;var Mi=Se({$class:"gpf.attributes.UniqueAttribute",$extend:$i,$singleton:!0,_targetCheck:function(t,e,n){Ai(t,e,n.constructor)}});a.attributes.UniqueAttribute=Mi;var Bi=Se({$class:"gpf.attributes.Serializable",$extend:Zr,$attributes:[new Di,new Mi],_property:null,constructor:function(t){this._property=function n(t){var e=Object.assign(t);return Oi(e),ji(e),Ni(e),e}(t)},getProperty:function(){return Object.create(this._property)}});function qi(t){var e=ci(t,Bi),n={};return P(e,function(t,e){n[e]=t[l].getProperty()}),n}function Wi(t){return t}function Ui(t,e){return function o(n,t,r){var i={};return P(t,function(t,e){i[t.name]=r.call(n,n[e],t,e)}),i}(t,qi(t),e||Wi)}function Li(t,e,n){!function o(n,r,i){var t=qi(n);P(t,function(t,e){r.hasOwnProperty(t.name)&&(n[e]=i.call(n,r[t.name],t,e))})}(t,e,n||Wi)}a.serial.get=qi,a.serial.toRaw=function(t,e){return"function"==typeof t&&a.Error.invalidParameter(),Ui(t,e)},a.serial.fromRaw=function(t,e,n){return"function"==typeof t&&a.Error.invalidParameter(),Li(t,e,n),t}});