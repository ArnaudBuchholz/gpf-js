!function(e,t){"use strict";if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else if("undefined"!=typeof module&&module.exports)t(module.exports);else{e===undefined&&(e=Function("return this;")());var n={};t(n),e.gpf=n}}(this,function(s){"use strict";function p(){}var r,i,o,a,n,u,e="browser",t="nashorn",c="nodejs",f="phantomjs",l="rhino",h="unknown",d="wscript",_=h,m=Function,v=new m("return this")();function g(t){return{log:function(e){t("    "+e)},info:function(e){t("[?] "+e)},warn:function(e){t("/!\\ "+e)},error:function(e){t("(X) "+e)}}}function b(){"\\"===String(java.lang.System.getProperty("file.separator")),v.console=g(print),function(e){java.lang.System.exit(e)}}"undefined"!=typeof WScript?_=d:"undefined"!=typeof print&&"undefined"!=typeof java?_="undefined"==typeof readFile?t:l:"undefined"!=typeof phantom&&phantom.version&&!document.currentScript?(_=f,v=window):"undefined"!=typeof module&&module.exports?(_=c,v=global):"undefined"!=typeof window&&(_=e,v=window),s.version=function(){return"0.2.7"},e===_&&(function(e){window.location="https://arnaudbuchholz.github.io/gpf/exit.html?"+e},window,document),s.node={},c===_&&(n=require("path"),i=require("fs"),o=require("http"),a=require("https"),u=require("url"),"\\"===n.sep),f===_&&("\\"===require("fs").separator,function(e){phantom.exit(e)},window,document,i=require("fs")),s.java={},s.rhino=s.java,l===_&&b(),t===_&&b(),s.wscript={},d===_&&(!0,r=new ActiveXObject("Scripting.FileSystemObject"),v.console=g(function(e){WScript.Echo(e)})),s.hosts={browser:e,nashorn:t,nodejs:c,phantomjs:f,rhino:l,unknown:h,wscript:d},s.host=function(){return _};var y,w=Array.isArray;function x(e){return w(e)||!!(t=e)&&Math.floor(t.length)===t.length;var t}function E(e,t,n){var r,i=e.length;for(r=0;r<i;++r)t.call(n,e[r],r,e)}function S(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function P(e,t,n){var r,i,o=e.length;for(i=0;i<o&&!r;++i)r=t.call(n,e[i],i,e);return r}s.isArrayLike=x,y=d===_?function(t,n,r){S(t,n,r),["constructor","toString"].forEach(function(e){t.hasOwnProperty(e)&&n.call(r,t[e],e,t)})}:S,s.forEach=function(e,t,n){x(e)?E(e,t,n):y(e,t,n)};var O=!0;function j(e,t){var n;e||(n=t,O&&console.warn("ASSERTION FAILED: "+n),s.Error.assertionFailed({message:t}))}s.assert=function(e,t){undefined===t&&(e=!(t="Assertion with no message")),j(e,t)},s.asserts=function(e){y(e,j)},s.preventAssertWarnings=function(e){O=!e};var I=/\/\/.*$|\/\*(?:[^\*]*|\*[^\/]*)\*\//gm;function N(e,t){return r=t,0===(n=e).length?m(r):((i=[].concat(n)).push(r),m.apply(null,i));var n,r,i}function T(e,t){return undefined===t&&(t=e,e=[]),N(e,t)}function k(e,t){var n=e;return y(t,function(e,t){n=n.split(t).join(e)}),n}s.web={};var C={};function R(e,t){return n=k(e,C[t]),"javascript"===t?'"'+n+'"':n;var n}function A(n,e){y(e,function(e,t){n[t]===undefined&&(n[t]=e)})}function D(e,t){var n,r,i,o,a=t.on;n=a,(r=t.methods)&&A(n.prototype,r),i=a,(o=t.statics)&&A(i,o)}function $(e,t){v[e]||(v[e]=t)}function F(e,t){return undefined!==t?e.bind(t):e}function M(e,t){for(var n=e.length,r=0;r<n;)e.hasOwnProperty(r)&&t(e[r],r,e),++r}function B(e,t,n){for(var r=e.length;n<r;){if(e.hasOwnProperty(n)&&!0!==t(e[n],n,e))return!1;++n}return!0}function W(e,t){return B(e,t,0)}function q(e){return 0===e?[]:new Array(e).join(" ").split(" ").map(function(e,t){return"p"+t})}function L(e){var r,i,t=q(e);return T(t,(i=["var C = this, l = arguments.length;","if (0 === l) { return new C();}"],(r=t).forEach(function(e,t){var n=t+1;i.push("if ("+n+" === l) { return new C("+r.slice(0,n).join(", ")+");}")}),i.join("\n")))}C.javascript={"\\":"\\\\",'"':'\\"',"\n":"\\n","\r":"\\r","\t":"\\t"},C.xml={"&":"&amp;","<":"&lt;",">":"&gt;"},D(0,{on:Array,methods:{every:function(e){return W(this,F(e,arguments[1]))},filter:function(r){var i=[];return r=F(r,arguments[1]),M(this,function(e,t,n){r(e,t,n)&&i.push(e)}),i},forEach:function(e){M(this,F(e,arguments[1]))},indexOf:function(n){var r=-1;return B(this,function(e,t){return e!==n||(r=t,!1)},arguments[1]||0),r},map:function(r){var i=new Array(this.length);return r=F(r,arguments[1]),M(this,function(e,t,n){i[t]=r(e,t,n)}),i},some:function(r){return r=F(r,arguments[1]),!W(this,function(e,t,n){return!r(e,t,n)})},reduce:function(e){var t,n=arguments[1],r=this.length,i=0;for(t=undefined===n?this[i++]:n;i<r;++i)t=e(t,this[i],i,this);return t}},statics:{from:function(e){var t,n,r=(n=[],"string"==typeof(t=e)?function(e,t){var n,r=t.length;for(n=0;n<r;++n)e.push(t.charAt(n))}(n,t):E(t,function(e){n.push(e)},0),n),i=arguments[1];return"function"==typeof i&&(r=r.map(i,arguments[2])),r},isArray:function(e){return"[object Array]"==={}.toString.call(e)}}}),w=Array.isArray;var U=L(10);function X(e){return e<10?"0"+e:e}function V(e){return e.getUTCFullYear()+"-"+X(e.getUTCMonth()+1)+"-"+X(e.getUTCDate())+"T"+X(e.getUTCHours())+":"+X(e.getUTCMinutes())+":"+X(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}D(0,{on:Date,methods:{toISOString:function(){return V(this)}},statics:{now:function(){return(new Date).getTime()}}});var H=/^([0-9][0-9][0-9][0-9])\-([0-9][0-9])\-([0-9][0-9])(?:T([0-9][0-9])\:([0-9][0-9])\:([0-9][0-9])(?:\.([0-9][0-9][0-9])Z)?)?$/;var z=v.Date;function Z(){var e,t,n=function(e){if("string"==typeof e)return H.lastIndex=0,function(e){var t;if(e)return--(t=function(e){var t,n,r,i=[],o=e.length;for(t=1;t<o;++t)n=i,(r=e[t])?n.push(parseInt(r,10)):n.push(0);return i}(e))[1],function(e){if((n=e)[1]<12&&n[2]<32&&(t=e)[3]<24&&t[4]<60&&t[5]<60)return e;var t,n}(t)}(H.exec(e))}(arguments[0]);return n?new z(z.UTC.apply(z.UTC,n)):(e=z,(t=arguments).length>U.length&&(U=L(t.length)),U.apply(e,t))}!function(){var e,t;E(["prototype","UTC","parse","now"],function(e){Z[e]=z[e]});try{e=V(new Date("2003-01-22T22:45:34.075Z")),t=V(new Date("2003-01-22"))}catch(e_){}"2003-01-22T22:45:34.075Z"===e&&"2003-01-22T00:00:00.000Z"===t||(v.Date=Z)}();var G,Q,J=Array.prototype.slice;function Y(e,t){this[t]=e}function K(e,t,n){var r=!0;function i(t){return function(e){r&&(r=!1,t(e))}}try{e(i(t),i(n))}catch(e_){r&&(r=!1,n(e_))}}function ee(){var t=this;t._handlers.forEach(function(e){e.process(t)}),t._handlers=[]}function te(e){this._state=!1,this._value=e,ee.call(this)}function ne(e){if(e&&-1!==["object","function"].indexOf(typeof e))return function(e,t){if("function"==typeof t)return K(t.bind(e),Q.bind(this),te.bind(this)),!0}.call(this,e,e.then)}D(0,{on:Function,methods:{bind:function(e){var t=J.call(arguments,1);return T(["thisArg","prependArgs","_gpfArrayPrototypeSlice"],"var me = this;\nreturn function ("+q(Math.max(this.length-t.length,0)).join(", ")+") {\n   var args = _gpfArrayPrototypeSlice.call(arguments, 0);\n    return me.apply(thisArg, prependArgs.concat(args));\n};").call(this,e,t,J)}}}),"functionName"!==T("return function functionName () {};")().name?Function.prototype.compatibleName=function(){var e=p.toString.call(this),t=e.indexOf("function"),n=e.indexOf("(",t);return e.substr(t+9,n-t-9).replace(I,"").trim()}:Function.prototype.compatibleName=function(){return this.name},D(0,{on:Object,statics:{assign:function(t,e){return[].slice.call(arguments,1).forEach(function(e){y(e,Y,t)}),t},create:function(){function n(){}return function(e){n.prototype=e;var t=new n;return t.constructor=n,t}}(),getPrototypeOf:function(e){return e.__proto__?e.__proto__:e.constructor.prototype},keys:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},values:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n}}}),D(0,{on:String,methods:{endsWith:function(e){var t=Math.min(arguments[1]||this.length,this.length);return this.substring(t-e.length,t)===e},trim:(G=/^[\s\ufeff\xa0]+|[\s\ufeff\xa0]+$/g,function(){return this.replace(G,"")})}}),Q=function(e){var t=this;try{if(ne.call(t,e))return;t._state=!0,t._value=e,ee.call(t)}catch(e_){te.call(t,e_)}};var re=s.Promise=function(e){K(e,Q.bind(this),te.bind(this))};function ie(){}ie.prototype={onFulfilled:null,onRejected:null,resolve:null,reject:null,process:function(e){if(null===e._state)return e.hasOwnProperty("_handlers")||(e._handlers=[]),void e._handlers.push(this);setTimeout(function(e){var t,n,r,i,o=this,a=(n=o,e._state?n.onFulfilled:n.onRejected);if(null===a)return r=o,void((i=e)._state?r.resolve(i._value):r.reject(i._value));try{t=a(e._value)}catch(e_){return void o.reject(e_)}o.resolve(t)}.bind(this,e),0)}},re.prototype={_state:null,_value:null,_handlers:[],then:function(r,i){var o=this;return new re(function(e,t){var n=new ie;undefined!==r&&(n.onFulfilled=r),undefined!==i&&(n.onRejected=i),n.resolve=e,n.reject=t,n.process(o)})},"catch":function(e){return this.then(null,e)}},re.resolve=function(t){return new re(function(e){e(t)})},re.reject=function(n){return new re(function(e,t){t(n)})},re.all=function(r){return 0===r.length?re.resolve([]):new re(function(e,n){r.forEach(function t(e,n){var r,i,o,a=this;try{if(e instanceof re)return void e.then(function(e){t.call(a,e,n)},a.reject);i=n,o=e,(r=a).promises[i]=o,0==--r.remaining&&r.resolve(r.promises)}catch(e_){a.reject(e_)}}.bind({resolve:e,reject:n,remaining:r.length,promises:r}))})},re.race=function(e){return new re(function(t,n){e.forEach(function(e){e.then(t,n)})})},$("Promise",re);var oe={};function ae(e){java.lang.Thread.sleep(e)}oe[d]=function(e){WScript.Sleep(e)},oe[l]=ae,oe[t]=ae;var se,ue=[],ce=0,fe=oe[_]||p;function le(e,t){return e.dt===t.dt?e.id-t.id:e.dt-t.dt}function he(e){return e.toString()}function pe(e,t){return t?"\n"+t+e.join(",\n"+t)+"\n":e.join(",")}function de(e,t,n){return null===e?"null":(r=t,a=[],o=(i=n)?": ":":",y(e,function(e,t){var n=r(t,e);n=se[typeof n](e,r,i),undefined!==n&&a.push(R(t,"javascript")+o+n)}),"{"+pe(a,i)+"}");var r,i,o,a}function _e(e,t){if(undefined!==e)return e[t]}function me(e,t){var n=e[t];return undefined===n&&(n=e[t]={}),n}function ve(e,t){var n,r,i;return r=t?me:_e,"gpf"===(n=e)[0]?(i=s,n=n.slice(1)):i=v,n.reduce(r,i)}s.handleTimeout=function(){for(var e,t,n=ue;n.length;){for(e=n.shift(),t=(new Date).getTime();e.dt>t;)fe(e.dt-t),t=(new Date).getTime();e.cb()}},$("setTimeout",function(e,t){var n={id:++ce,dt:(new Date).getTime()+t,cb:e};return ue.push(n),ue.sort(le),ce}),$("clearTimeout",function(n){var r;ue.every(function(e,t){return e.id!==n||(r=t,!1)})||ue.splice(r,1)}),se={undefined:p,"function":p,number:he,"boolean":he,string:function(e){return R(e,"javascript")},object:function(e,t,n){return w(e)?(r=t,i=n,o=[],E(e,function(e,t){var n=r(t.toString(),e);n=undefined===n?"null":se[typeof n](n,r,i),o.push(n)}),"["+pe(o,i)+"]"):de(e,t,n);var r,i,o}},$("JSON",{parse:function(e,t){var r=T("return "+e)();return t?function n(r,e,i){return"object"==typeof r&&y(r,function(e,t){r[t]=n(e,t,i)}),i(e,r)}(r,"",t):r},stringify:function(e,t,n){return se[typeof e](e,w(i=t)?function(e,t){if(-1!==i.indexOf(e))return t}:"function"==typeof(o=i)?o:function(e,t){return t},"number"==typeof(r=n)?new Array(Math.min(r,10)+1).join(" "):r||"");var r,i,o}}),s.context=function(e){return undefined===e?v:ve(e.split("."))},C.html=Object.assign({},C.xml,{"\xe0":"&agrave;","\xe1":"&aacute;","\xe8":"&egrave;","\xe9":"&eacute;","\xea":"&ecirc;"});var ge=s.Error=function(){};function be(e,t,n){var r=function(e,t,n){function r(e){this._buildMessage(e)}var i;return r.prototype=new ge,Object.assign(r.prototype,{code:e,name:t,message:n}),r.prototype.constructor=r,ge[(i=t,i.charAt(0).toUpperCase()+i.substr(1))]=r,function(e){throw new r(e)}}(e,t,n);return r.CODE=e,r.NAME=t,r.MESSAGE=n,r}ge.prototype=new Error,Object.assign(ge.prototype,{constructor:ge,code:0,name:"Error",message:"",_buildMessage:function(e){var n;e&&(n={},y(e,function(e,t){n["{"+t+"}"]=e.toString()}),this.message=k(this.message,n))}});var ye=0;function we(e,t){y(t,function(e,t){var n=++ye;s.Error["CODE_"+t.toUpperCase()]=n,s.Error[t]=be(n,t,e)})}function xe(e){return e.trim()}function Ee(e,t){var n,r,i,o,a,s=p.toString.call(e).replace(I,"");n=s,r=t,e.length&&(r.parameters=/\(\s*(\w+(?:\s*,\s*\w+)*)\s*\)/.exec(n)[1].split(",").map(xe)),i=s,o=t,(a=xe(/{((?:.*\r?\n)*.*)}/.exec(i)[1]))&&(o.body=a)}function Se(e){var t,n,r={};return t=r,(n=e.compatibleName())&&(t.name=n),Ee(e,r),r}function Pe(e,t){return n="function"+((c=a=e).name?" "+c.name:"")+"("+((u=a).parameters?u.parameters.join(", "):"")+') {\n\t"use strict"\n'+((s=a).body?s.body.toString():"")+"\n}",r=t||{},i=Object.keys(r),o=i.map(function(e){return r[e]}),T(i,"return "+n).apply(null,o);var n,r,i,o,a,s,u,c}we(0,{notImplemented:"Not implemented",assertionFailed:"Assertion failed: {message}",invalidParameter:"Invalid parameter"}),we(0,{invalidEntityType:"Invalid entity type"});var Oe={};function je(e){var t,n,r,i,o=(n=e,y(Oe,function(e,t){n["$"+t]&&(r=e)}),r);return o||(i=Oe[e.$type],undefined===i&&s.Error.invalidEntityType(),o=i),(t=new o(e)).check(),t}function Ie(e,t){return e.exec(t)}function Ne(e,t){for(var n,r,i=[],o=(r=t,(n=e).lastIndex=0,Ie(n,r));o;)i.push(o),o=Ie(e,t);return i}function Te(e){this._initialDefinition=e}function ke(e){return Pe({parameters:q(e),body:"_throw_();"},{_throw_:s.Error.abstractMethod})}function Ce(e,t){"$"===t.charAt(0)?this._check$Property(t.substr(1),e):this._checkProperty(t,e)}Te.prototype={constructor:Te,_initialDefinition:{}},we(0,{abstractMethod:"Abstract method"}),we(0,{invalidEntity$Property:"Invalid entity $ property",missingEntityName:"Missing entity name",invalidEntityNamespace:"Invalid entity namespace"}),Object.assign(Te.prototype,{_type:"",_allowed$Properties:"type,name,namespace".split(","),_check$Property:function(e,t){var n;e!==this._type&&(n=e,-1===this._allowed$Properties.indexOf(n)&&s.Error.invalidEntity$Property())},_throwInvalidProperty:ke(0),_reMemberName:/.*/,_checkMemberName:function(e){this._reMemberName.exec(e)||this._throwInvalidProperty()},_reservedNames:"super,class,public,private,protected,static,mixin".split(","),_checkReservedMemberName:function(e){-1!==this._reservedNames.indexOf(e)&&this._throwInvalidProperty()},_checkMemberValue:T(["name","value"]," "),_checkProperty:function(e,t){this._checkMemberName(e),this._checkReservedMemberName(e),this._checkMemberValue(e,t)},_checkProperties:function(){y(this._initialDefinition,Ce,this)},_name:"",_readName:function(){var e=this._initialDefinition;this._name=e["$"+this._type]||e.$name},_checkNameIsNotEmpty:function(){this._name||s.Error.missingEntityName()},_throwInvalidName:ke(0),_reName:/.*/,_checkName:function(){this._reName.exec(this._name)||this._throwInvalidName()},_namespace:"",_extractRelativeNamespaceFromName:function(){var e=/(.*)\.([^\.]+)$/.exec(this._name);if(e)return this._name=e[2],e[1]},_readNamespace:function(){var e=[this._initialDefinition.$namespace,this._extractRelativeNamespaceFromName()].filter(function(e){return e});0<e.length&&(this._namespace=e.join("."))},_checkNamespace:function(){/^(:?[a-z_$][a-zA-Z0-9]+(:?\.[a-z_$][a-zA-Z0-9]+)*)?$/.exec(this._namespace)||s.Error.invalidEntityNamespace()},check:function(){this._checkProperties(),this._readName(),this._checkNameIsNotEmpty(),this._readNamespace(),this._checkName(),this._checkNamespace()}});var Re=[];function Ae(t){var e=P(Re,function(e){if(e.getInstanceBuilder()===t)return e});return e||(e=P([].concat(Re).reverse(),function(e){if(t.prototype instanceof e.getInstanceBuilder())return e})),e}function De(e){Te.call(this,e)}function $e(e){return Pe({name:(t=e)._name,parameters:Se(t._resolvedConstructor).parameters,body:(n=t,["if (!(this instanceof _classDef_._instanceBuilder)) gpf.Error.classConstructorFunction();",function(e){if(e._abstract)return"if (this.constructor === _classDef_._instanceBuilder) gpf.Error.abstractClass();"}(n),"_classDef_._resolvedConstructor.apply(this, arguments);"].join("\n"))},{gpf:s,_classDef_:e});var t,n}function Fe(){s.Error.invalidClassSuper()}function Me(e){return"function"!=typeof e&&(e=Fe),(n=Se(t=e)).body="return _superMethod_.apply(this, arguments);",Pe(n,{_superMethod_:t});var t,n}function Be(e,t,n){return"function"!=typeof n&&s.Error.invalidClassSuperMember(),r=e,i=t,(a=Se(o=n)).body="return _superMethod_.apply(this === _$super_ ? _that_ : this, arguments);",Pe(a,{_that_:r,_$super_:i,_superMethod_:o});var r,i,o,a}Object.assign(Te.prototype,{_instanceBuilder:null,getInstanceBuilder:function(){return this._instanceBuilder||this._setInstanceBuilder(this._build()),this._instanceBuilder},_setInstanceBuilder:function(e){this._namespace&&(ve(this._namespace.split("."),!0)[this._name]=e),this._instanceBuilder=e,Re.push(this)},_build:p}),De.prototype=Object.create(Te.prototype),Object.assign(De.prototype,{constructor:De,_type:"class",_abstract:!1}),Oe["class"]=De,we(0,{invalidClassName:"Invalid class name",invalidClassProperty:"Invalid class property",invalidClassExtend:"Invalid class extend",invalidClassConstructor:"Invalid class constructor",invalidClassOverride:"Invalid class override",invalidClass$AbstractSpecification:"Invalid class $abstract specification"}),Object.assign(De.prototype,{_allowed$Properties:Te.prototype._allowed$Properties.concat(["extend","abstract"]),_check$abstract:function(e){!0!==e&&s.Error.invalidClass$AbstractSpecification()},_check$Property:function(e,t){Te.prototype._check$Property.call(this,e,t),"abstract"===e&&(this._check$abstract(t),this._abstract=!0)},_throwInvalidProperty:s.Error.invalidClassProperty,_reMemberName:/^[a-z_][a-zA-Z0-9]*$/,_checkConstructorMember:function(e){"function"!=typeof e&&s.Error.invalidClassConstructor()},_checkOverridenMember:function(e,t){typeof e!=typeof t&&s.Error.invalidClassOverride()},_checkIfOverriddenMember:function(e,t){var n=this._extend.prototype[e];undefined!==n&&this._checkOverridenMember(t,n)},_checkMemberValue:function(e,t){"constructor"===e?this._checkConstructorMember(t):this._checkIfOverriddenMember(e,t)},_reName:/^[A-Z_$][a-zA-Z0-9]*$/,_throwInvalidName:s.Error.invalidClassName,_extend:Object,_extendDefinition:undefined,_readExtend:function(){var e,t="string"==typeof(e=this._initialDefinition.$extend)?ve(e.split(".")):e;t&&(this._extend=t,this._extendDefinition=Ae(t))},_checkExtendIsNotAnInterface:function(){-1!==p.toString.call(this._extend).indexOf("interfaceConstructorFunction")&&s.Error.invalidClassExtend()},_checkExtend:function(){"function"!=typeof this._extend&&s.Error.invalidClassExtend(),this._checkExtendIsNotAnInterface()},check:function(){this._readExtend(),this._checkExtend(),Te.prototype.check.call(this)}}),we(0,{classConstructorFunction:"This is a class constructor function, use with new",abstractClass:"Abstract Class"}),Object.assign(De.prototype,{_resolvedConstructor:p}),we(0,{invalidClassSuper:"Invalid class super",invalidClassSuperMember:"Invalid class super member"});var We=/\.\$super\.(\w+)\b/g;function qe(e){Te.call(this,e)}function Le(e){return Pe({name:e._name,body:"gpf.Error.interfaceConstructorFunction();"},{gpf:s,_classDef_:e})}function Ue(e){return je(e).getInstanceBuilder()}function Xe(e,i){var o=!0;return y(e.prototype,function(e,t){var n,r;"constructor"!==t&&(n=e,("function"!=typeof(r=i[t])||n.length!==r.length)&&(o=!1))}),o}function Ve(e,t){return Xe(e,t)?t:function(e,t){if(Xe(s.interfaces.IUnknown,t))return n=e,t.queryInterface(n);var n}(e,t)}function He(e){return"string"==typeof e?ve(e.split(".")):e}Object.assign(De.prototype,{_get$Super:function(t,e,n){var r=this._extend.prototype,i=Me(r[e]);return n.forEach(function(e){i[e]=Be(t,i,r[e])}),i},_superifiedBody:'var _super_;\nif (this.hasOwnProperty("$super")) {\n    _super_ = this.$super;\n}\nthis.$super = _classDef_._get$Super(this, _methodName_, _superMembers_);\ntry{\n    var _result_ = _method_.apply(this, arguments);\n} finally {\n    if (undefined === _super_) {\n        delete this.$super;\n    } else {\n        this.$super = _super_;\n    }\n}\nreturn _result_;',_getSuperifiedContext:function(e,t,n){return{_method_:e,_methodName_:t,_superMembers_:n,_classDef_:this}},_createSuperified:function(e,t,n){var r=Se(e);return r.body=this._superifiedBody,Pe(r,this._getSuperifiedContext(e,t,n))},_superify:function(e,t){return /\.\$super\b/.exec(e)?this._createSuperified(e,t,Ne(We,e).map(function(e){return e[1]})):e}}),Object.assign(De.prototype,{_build:function(){var e,t;return this._resolveConstructor(),e=$e(this),t=Object.create(this._extend.prototype),(e.prototype=t).constructor=e,this._buildPrototype(t),e},_addMethodToPrototype:function(e,t,n){e[t]=this._superify(n,t)},_addMemberToPrototype:function(e,t,n){"function"==typeof n?this._addMethodToPrototype(e,t,n):e[t]=n},_buildPrototype:function(n){y(this._initialDefinition,function(e,t){"$"!==t.charAt(0)&&"constructor"!==t&&this._addMemberToPrototype(n,t,e)},this)},_setResolvedConstructorToInherited:function(){this._extend!==Object&&(this._resolvedConstructor=this._extend)},_resolveConstructor:function(){this._initialDefinition.hasOwnProperty("constructor")?this._resolvedConstructor=this._superify(this._initialDefinition.constructor,"constructor"):this._setResolvedConstructorToInherited()}}),qe.prototype=Object.create(Te.prototype),Object.assign(qe.prototype,{constructor:qe,_type:"interface"}),Oe["interface"]=qe,we(0,{invalidInterfaceName:"Invalid interface name",invalidInterfaceProperty:"Invalid interface property"}),Object.assign(qe.prototype,{_throwInvalidProperty:s.Error.invalidInterfaceProperty,_reMemberName:/^[a-z][a-zA-Z0-9]*$/,_reservedNames:Te.prototype._reservedNames.concat("constructor"),_checkMemberValue:function(e,t){"function"!=typeof t&&s.Error.invalidInterfaceProperty()},_reName:/^I[a-zA-Z0-9]*$/,_throwInvalidName:s.Error.invalidInterfaceName}),we(0,{"interfaceConstructorFunction":"This is an interface constructor function, do not invoke"}),Object.assign(qe.prototype,{_build:function(){var e,t;return delete(t=(e=Le(this)).prototype).constructor,this._buildPrototype(t),e},_buildPrototype:function(n){y(this._initialDefinition,function(e,t){"$"!==t.charAt(0)&&(n[t]=e)},this)}}),s.define=Ue,we(0,{interfaceExpected:"Expected interface not implemented: {name}"});var ze;s.interfaces={isImplementedBy:function(e,t){return!!t&&Xe(He(e),(n=t)instanceof Function?n.prototype:n);var n},query:function(e,t){return Ve(He(e),t)}};function Ze(e,t){var n={$interface:"gpf.interfaces.I"+e};return Object.keys(t).forEach(function(e){n[e]=ke(t[e])}),Ue(n)}function Ge(e,t){var n,r,i,o,a;return!1===e.ascending?(n="b"+t,r="a"+t):(n="a"+t,r="b"+t),"if("+n+"!=="+r+")return "+(i=e.type,o=n,a=r,"string"===i?o+".localeCompare("+a+")":o+"-"+a)+";"}function Qe(e){return T(["a","b"],"var "+(t=e).map(function(e,t){return"a"+t+"=a."+e.property+",b"+t+"=b."+e.property}).join(",")+";"+t.map(Ge).join("")+"return 0;");var t}function Je(t,n){return function(e){return"("+e[t].map(ze).join(n)+")"}}Ze("Unknown",{"queryInterface":1}),s.createSortFunction=function(e){return w(e)||(e=[e]),Qe(e)};var Ye={property:function(e){return"i."+e.property},eq:Je("eq","==="),ne:Je("ne","!=="),lt:Je("lt","<"),lte:Je("lte","<="),gt:Je("gt",">"),gte:Je("gte",">="),not:function(e){return"!"+ze(e.not)},like:function(e){var t,n="/"+(t=e).regexp+"/.exec("+ze(t.like)+")";return e.group?"("+n+"||[])["+e.group+"]":n},or:Je("or","||"),and:Je("and","&&"),undefined:function(e){return JSON.stringify(e)}},Ke=Object.keys(Ye);ze=function(e){var t=function(e){if("object"==typeof e)return Object.keys(e).filter(function(e){return-1<Ke.indexOf(e)})[0]}(e);return(0,Ye[t])(e)},s.createFilterFunction=function(e){return T(["i"],"return "+ze(e))};var et=Ze("ReadableStream",{"read":1}),tt=Ze("WritableStream",{"write":1});function nt(e,t,n){return e||s.Error.interfaceExpected({name:n}),r=n,(i=Ve(t,e))||s.Error.interfaceExpected({name:r}),i;var r,i}function rt(e){return nt(e,et,"gpf.interfaces.IReadableStream")}function it(e){return nt(e,tt,"gpf.interfaces.IWritableStream")}Ze("Enumerator",{"reset":0,"moveNext":0,"getCurrent":0}),Ze("FileStorage",{"getInfo":1,"openTextStream":2,"close":1,"explore":1,"createDirectory":1,"deleteFile":1,"deleteDirectory":1}),we(0,{readInProgress:"A read operation is already in progress",writeInProgress:"A write operation is already in progress",invalidStreamState:"Stream is in an invalid state"}),s.stream={};var ot="gpf.stream#progress",at=ot+"/read",st=ot+"/write";function ut(e){e.prototype[at]=!1,e.prototype[st]=!1}function ct(e,t,n){e[t]&&s.Error[n](),e[t]=!0}function ft(e){e[at]=!1}function lt(e){e[st]=!1}function ht(e,t,n){return e.then(function(e){return n(t),Promise.resolve(e)},function(e){return n(t),Promise.reject(e)})}function pt(n){return function(e){var t=it(e);return ct(this,at,"readInProgress"),ht(n.call(this,t),this,ft)}}function dt(t){return function(e){return ct(this,st,"writeInProgress"),ht(t.call(this,e),this,lt)}}var _t=Ue({$class:"gpf.stream.ReadableString",constructor:function(e){this._buffer=e},read:pt(function(e){return e.write(this._buffer)}),_buffer:""}),mt=Ue({$class:"gpf.stream.WritableString",constructor:function(){this._buffer=[]},write:dt(function(e){return this._buffer.push(e.toString()),Promise.resolve()}),toString:function(){return this._buffer.join("")},_buffer:[]});ut(_t),ut(mt),we(0,{incompatibleStream:"Incompatible stream"});var vt={NOT_FOUND:0,DIRECTORY:1,FILE:2,UNKNOWN:3},gt=0,bt=1,yt=null;function wt(e,t){e===_&&(yt=new t)}function xt(e){e.length?e.pop():s.Error.unreachablePath()}function Et(e){var t,n,r=-1<(t=e).indexOf("\\")?t.toLowerCase().split("\\"):t.split("/");return(n=r)[n.length-1]||n.pop(),r}function St(e){return Et(e).join("/")}function Pt(e){return e?Et(e).pop():""}function Ot(e){var t=Pt(e),n=t.lastIndexOf(".");return-1===n?"":t.substr(n)}s.fs={types:{notFound:vt.NOT_FOUND,directory:vt.DIRECTORY,file:vt.FILE,unknown:vt.UNKNOWN},openFor:{reading:gt,appending:bt},getFileStorage:function(){return yt}},we(0,{unreachablePath:"Unreachable path"});var jt={"":function(e){e.length=0,e.push("")},".":p,"..":function(e){xt(e)}};function It(e){var t=Et(e);return[].slice.call(arguments,1).forEach(function(n,e){E(Et(e),function(e){var t=jt[e];t?t(n):n.push(e)})}.bind(null,t)),t.join("/")}function Nt(e){return xt(e=Et(e)),e.join("/")}function Tt(e,t){var n,r=-1;return{reset:function(){return r=-1,Promise.resolve()},moveNext:function(){return++r,n=undefined,r<t.length?e.getInfo(t[r]).then(function(e){return n=e}):Promise.resolve()},getCurrent:function(){return n}}}var kt=Ue({$class:"gpf.node.BaseStream",constructor:function(e,t){this._stream=e,"function"==typeof t&&(this._close=t),e.on("error",this._onError.bind(this))},_close:p,close:function(){return this._close()},_stream:null,_invalid:!(s.path={join:It,parent:Nt,name:Pt,nameOnly:function(e){var t=Pt(e),n=t.lastIndexOf(".");return-1===n?t:t.substr(0,n)},extension:Ot,relative:function(e,t){var n,r,i,o=Et(e),a=Et(t);for(i=a,(r=o).length*i.length&&function(e,t){for(;e[0]===t[0];)e.shift(),t.shift()}(r,i),n=o.length+1;--n;)a.unshift("..");return a.join("/")}}),_reject:s.Error.invalidStreamState,_checkIfValid:function(){this._invalid&&s.Error.invalidStreamState()},_onError:function(e){this._invalid=!0,this._reject(e)}}),Ct=Ue({$class:"gpf.node.ReadableStream",$extend:"gpf.node.BaseStream",read:pt(function(n){var r=this,i=r._stream;return new Promise(function(e,t){r._reject=t,r._checkIfValid(),i.on("data",r._onData.bind(r,n)).on("end",function(){r._invalid=!0,e()})})}),_onData:function(e,t){var n=this._stream;n.pause(),e.write(t).then(function(){n.resume()},this._reject)}}),Rt=Ue({$class:"gpf.node.WritableStream",$extend:"gpf.node.BaseStream",write:dt(function(n){var r=this,i=r._stream;return new Promise(function(e,t){if(r._reject=t,r._checkIfValid(),i.write(n))return e();i.once("drain",e)})})});function At(t){return function(e){return e instanceof t?e.close():Promise.reject(new s.Error.IncompatibleStream)}}function Dt(e,t){return new Promise(function(n,r){i[e].apply(i,t.concat([function(e,t){e?r(e):n(t)}]))})}function $t(e,t){return Dt(e,[St(t)])}function Ft(e,t){return Dt("open",[St(e),t.flags]).then(function(e){return new t.GpfStream(i[t.nodeStream]("",{fd:e,autoClose:!1}),Dt.bind(null,"close",[e]))})}function Mt(e){return e.isDirectory()?vt.DIRECTORY:e.isFile()?vt.FILE:vt.UNKNOWN}wt(c,Ue({$class:"gpf.node.FileStorage",getInfo:function(t){return t=St(t),new Promise(function(e){i.exists(t,e)}).then(function(e){return e?$t("stat",t).then(function(e){return{fileName:n.basename(t),filePath:St(n.resolve(t)),size:e.size,createdDateTime:e.ctime,modifiedDateTime:e.mtime,type:Mt(e)}}):{type:vt.NOT_FOUND}})},openTextStream:function(e,t){return gt===t?Ft(e,{flags:"r",GpfStream:Ct,nodeStream:"createReadStream"}):Ft(e,{flags:"a",GpfStream:Rt,nodeStream:"createWriteStream"})},close:At(kt),explore:function(t){var n=this;return $t("readdir",t).then(function(e){return Tt(n,e.map(function(e){return It(t,e)}))})},createDirectory:$t.bind(null,"mkdir"),deleteFile:$t.bind(null,"unlink"),deleteDirectory:$t.bind(null,"rmdir")}));var Bt=Ue({$class:"gpf.wscript.BaseStream",constructor:function(e){this._file=e},close:function(){return new Promise(function(e){this._file.Close(),e()}.bind(this))}}),Wt=Ue({$class:"gpf.wscript.ReadableStream",$extend:"gpf.wscript.BaseStream",read:pt(function(n){var r=this._file;return new Promise(function(t){return function e(){return n.write(r.Read(4096)).then(function(){if(!r.AtEndOfStream)return e()})}().then(t)})})}),qt=Ue({$class:"gpf.wscript.WritableStream",$extend:"gpf.wscript.BaseStream",write:dt(function(t){var n=this._file;return new Promise(function(e){n.Write(t),e()})})});function Lt(e,t){return{type:t,fileName:e.Name.toLowerCase(),filePath:St(e.Path),size:e.Size,createdDateTime:new Date(e.DateCreated),modifiedDateTime:new Date(e.DateLastModified)}}function Ut(t,n){return new Promise(function(e){r[t](Et(n).join("\\"),!0),e()})}function Xt(e){return r.FolderExists(e)?Lt(r.GetFolder(e),vt.DIRECTORY):(t=e,r.FileExists(t)?Lt(r.GetFile(t),vt.FILE):{type:vt.NOT_FOUND});var t}function Vt(e){for(var t=new Enumerator(e),n=[];!t.atEnd();t.moveNext())n.push(t.item().Path);return n}we(0,{pathNotExplorable:"Path not explorable"}),wt(d,Ue({$class:"gpf.wscript.FileStorage",getInfo:function(e){return Promise.resolve(Xt(Et(e).join("\\")))},openTextStream:function(t,n){return t=Et(t).join("\\"),new Promise(function(e){e(gt===n?new Wt(r.OpenTextFile(t,1,!1)):new qt(r.OpenTextFile(t,8,!0)))})},close:At(Bt),explore:function(t){var n=this;return new Promise(function(e){e(Tt(n,function(e){var t;if(r.FolderExists(e))return Vt((t=r.GetFolder(e)).SubFolders).concat(Vt(t.Files));s.Error.pathNotExplorable()}(Et(t).join("\\"))))})},createDirectory:function(t,n){return new Promise(function(e){r[t](Et(n).join("\\")),e()})}.bind(null,"CreateFolder"),deleteFile:Ut.bind(null,"DeleteFile"),deleteDirectory:Ut.bind(null,"DeleteFolder")}));var Ht=Object.prototype.toString;function zt(e){return e instanceof Object&&"[object Object]"===Ht.call(e)&&Object.getPrototypeOf(e)===Object.getPrototypeOf({})}s.isLiteralObject=zt,we(0,{missingNodeName:"Missing node name",unknownNamespacePrefix:"Unknown namespace prefix",unableToUseNamespaceInString:"Unable to use namespace in string"});var Zt={"className":"class"},Gt={"svg":"http://www.w3.org/2000/svg","xlink":"http://www.w3.org/1999/xlink"};function Qt(e){var t,n,r=e.split(":");if(2===r.length)return{namespace:(t=r[0],n=Gt[t],undefined===n&&s.Error.unknownNamespacePrefix(),n),name:r[1]}}function Jt(e){-1!==e.indexOf(":")&&s.Error.unableToUseNamespaceInString()}function Yt(e){return Zt[e]||e}function Kt(e,t){e.forEach(function(e){w(e)?Kt(e,t):t(e)})}var en=Ue({$class:"gpf.web.Tag",constructor:function(e,t,n){this._nodeName=e,this._attributes=t||{},this._children=n},_nodeName:"",_attributes:{},_children:[],_getAttributesAsString:function(){return Object.keys(this._attributes).map(function(e){return Jt(e)," "+Yt(e)+'="'+R(this._attributes[e],"html")+'"'},this).join("")},_getChildrenAsString:function(){var t=[];return Kt(this._children,function(e){t.push(e.toString())}),t.join("")},_getClosingString:function(){return this._children.length?">"+this._getChildrenAsString()+"</"+this._nodeName+">":"/>"},toString:function(){return Jt(this._nodeName),"<"+this._nodeName+this._getAttributesAsString()+this._getClosingString()},_createElement:function(e){var t=e.ownerDocument,n=Qt(this._nodeName);return n?t.createElementNS(n.namespace,n.name):t.createElement(this._nodeName)},_setAttributesTo:function(r){y(this._attributes,function(e,t){var n=Qt(t);n?r.setAttributeNS(n.namespace,Yt(n.name),e):r.setAttribute(Yt(t),e)})},_appendChildrenTo:function(t){var n=t.ownerDocument;Kt(this._children,function(e){e instanceof en?e.appendTo(t):t.appendChild(n.createTextNode(e.toString()))})},appendTo:function(e){var t=this._createElement(e);return this._setAttributesTo(t),this._appendChildrenTo(t),e.appendChild(t)}});s.web.createTagFunction=function(r){return r||s.Error.missingNodeName(),function(e){var t,n;return zt(e)?(n=e,t=1):t=0,new en(r,n,[].slice.call(arguments,t))}},s.http={};var tn={GET:"GET",POST:"POST",PUT:"PUT",OPTIONS:"OPTIONS",DELETE:"DELETE",HEAD:"HEAD"},nn=/([^:\s]+)\s*: ?([^\r]*)/gm;function rn(r){return function(t,n){n&&Object.keys(n).forEach(function(e){t[r](e,n[e])})}}function on(n){return function(e,t){t?e[n](t):e[n]()}}function an(r,i,o){return function(e){return{status:e[r],headers:(t=e[i](),n={},E(Ne(nn,t),function(e){n[e[1]]=e[2]}),n),responseText:e[o]};var t,n}}var sn;Ze("Thenable",{"then":2});function un(e){return s.interfaces.isImplementedBy(s.interfaces.IThenable,e)?e:Promise.resolve(e)}function cn(e,t){var n=sn;return e===_&&(sn=t),n}function fn(n){return new Promise(function(e,t){sn(n,e,t)})}function ln(e,t,n){return fn("string"==typeof t?{method:e,url:t,data:n}:Object.assign({method:e},t))}s.promisify=un,s.promisifyDefined=function(e){if(undefined!==e)return un(e)},Object.assign(s.http,{methods:{get:tn.GET,post:tn.POST,put:tn.PUT,options:tn.OPTIONS,"delete":tn.DELETE,head:tn.HEAD},request:fn,get:ln.bind(s.http,tn.GET),post:ln.bind(s.http,tn.POST),put:ln.bind(s.http,tn.PUT),options:ln.bind(s.http,tn.OPTIONS),"delete":ln.bind(s.http,tn.DELETE),head:ln.bind(s.http,tn.HEAD)});var hn=rn("setRequestHeader"),pn=on("send"),dn=an("status","getAllResponseHeaders","responseText");function _n(e,t){var n,r,i,o,a=(n=e,(r=new XMLHttpRequest).open(n.method,n.url),r);hn(a,e.headers),o=function(){t(dn(a))},(i=a).onreadystatechange=function(){4===i.readyState&&o()},pn(a,e.data)}function mn(e){var t=new mt;return rt(e).read(t).then(function(){return t.toString()})}function vn(e){var t,n,r=Object.assign(u.parse(e.url),e);return t=r,(n=e.data)&&(t.headers=Object.assign({"Content-Type":"application/x-www-form-urlencoded","Content-Length":Buffer.byteLength(n)},t.headers)),r}function gn(e,t){var n=vn(e);return("https:"===n.protocol?a:o).request(n,function(e){!function(t,n){t.setEncoding("utf8");var r=new Ct(t);mn(r).then(function(e){r.close(),n({status:t.statusCode,headers:t.headers,responseText:e})})}(e,t)})}cn(e,_n),cn(f,_n),cn(c,function(e,t,n){var r,i,o=gn(e,t);o.on("error",n),r=o,(i=e.data)?r.write(i,"utf8",function(){r.end()}):r.end()});var bn=rn("setRequestHeader"),yn=on("Send"),wn=an("Status","GetAllResponseHeaders","ResponseText");cn(d,function(e,t){var n,r,i=(n=e,(r=new ActiveXObject("WinHttp.WinHttpRequest.5.1")).Open(n.method,n.url),r);bn(i,e.headers),yn(i,e.data),t(wn(i))});var xn=Ue({$class:"gpf.java.BaseStream",constructor:function(e){this._stream=e},close:function(){return this._stream.close(),Promise.resolve()},_stream:null}),En=Ue({$class:"gpf.java.ReadableStream",$extend:xn,_handleError:function(e){return e instanceof java.util.NoSuchElementException||0===e.message.indexOf("java.util.NoSuchElementException")?Promise.resolve():Promise.reject(e)},read:pt(function(e){try{var t=new java.util.Scanner(this._stream);return e.write(String(t.useDelimiter("\\A").next()))}catch(e_){return this._handleError(e_)}})}),Sn=Ue({$class:"gpf.java.WritableStream",$extend:xn,constructor:function(e){this.$super(e),this._writer=new java.io.OutputStreamWriter(e)},write:dt(function(e){var t=this._writer;return t.write(e),t.flush(),Promise.resolve()}),close:function(){return this._writer.close(),this.$super()},_writer:null}),Pn=rn("setRequestProperty");function On(i,o){var e,t;(e=i,t=new En(function(e){try{return e.getInputStream()}catch(e_){return e.getErrorStream()}}(e)),mn(t).then(function(e){return t.close(),e})).then(function(e){var t,n,r;o({status:i.getResponseCode(),headers:(t=i,n={},r=t.getHeaderFields(),E(r.keySet().toArray(),function(e){n[String(e)]=String(r.get(e).get(0))}),n),responseText:e})})}function jn(e,t){var n=new java.net.URL(e.url).openConnection();n.setRequestMethod(e.method),Pn(n,e.headers),function(e,t){if(t){e.setDoOutput(!0);var n=new Sn(e.getOutputStream());return n.write(t).then(function(){n.close()})}return Promise.resolve()}(n,e.data).then(function(){On(n,t)})}cn(l,jn),cn(t,jn);var In={};function Nn(e){return t=In[e.method],n=e,t.every(function(e){return(r=function(e,t){var n,r=e.url;if(r.lastIndex=0,n=r.exec(t.url))return e.response.apply(e,[t].concat([].slice.call(n,1)))}(e,n))===undefined}),r;var t,n,r}var Tn,kn=0;function Cn(){Object.keys(tn).forEach(function(e){In[e]=[]})}function Rn(){}Cn(),s.http.mock=function(e){var t,n=e.method;return t=n+"."+ ++kn,In[n].unshift(Object.assign({id:t},e)),t},s.http.mock.remove=function(t){var e=t.split(".")[0];In[e]=In[e].filter(function(e){return e.id!==t})},s.http.mock.reset=Cn,Tn=cn(_,function(e,t,n){var r=Nn(e);undefined===r?Tn(e,t,n):t(r)}),Rn.prototype={execute:p};var An=new Rn,Dn=new Rn;An.execute=function(e){e._readReject(e._readBuffer.shift())},Dn.execute=function(e){e._readResolve()};var $n=Ue({$class:"gpf.stream.BufferedRead",constructor:function(){this._readBuffer=[]},_readBuffer:[],_readWriteToStream:null,_readResolve:null,_readReject:null,_readDataIsToken:function(e){return e instanceof Rn&&(e.execute(this),!0)},_readWriteToOutput:function(){var e=this,t=e._readBuffer.shift();return e._readDataIsToken(t)?Promise.resolve():e._readWriteToStream.write(t).then(function(){if(e._readBuffer.length)return e._readWriteToOutput();e._readNotWriting=!0})},_readNotWriting:!0,_readSafeWrite:function(){var t=this;t._readNotWriting&&(t._readNotWriting=!1,t._readWriteToOutput().then(undefined,function(e){t._readReject(e)}))},_readCheckIfData:function(){this._readBuffer.length&&this._readSafeWrite()},_readCheckIfOutput:function(){this._readWriteToStream&&this._readCheckIfData()},_appendToReadBuffer:function(e){return this._readBuffer=this._readBuffer.concat([].slice.call(arguments)),this._readCheckIfOutput(),this},_completeReadBuffer:function(){this._readBuffer.push(Dn),this._readCheckIfOutput()},_setReadError:function(e){this._readBuffer.push(An,e),this._readCheckIfOutput()},read:pt(function(e){var n=this;return n._readWriteToStream=e,n._readCheckIfData(),new Promise(function(e,t){n._readResolve=e,n._readReject=t})})});ut($n);var Fn=/\r\n/g,Mn=(Ue({$class:"gpf.stream.LineAdapter",$extend:$n,constructor:function(){this.$super(),this._buffer=[]},write:dt(function(e){return this._buffer.push(e.toString()),this._process(),Promise.resolve()}),flush:function(){return this._buffer.length&&(this._buffer.push("\n"),this._process()),this._completeReadBuffer(),Promise.resolve()},_buffer:[],_consolidateLines:function(){return this._buffer.join("").replace(Fn,"\n").split("\n")},_pushBackLastLineIfNotEmpty:function(e){var t=e.pop();t.length&&this._buffer.push(t)},_process:function(){var t=this,e=t._consolidateLines();t._buffer.length=0,t._pushBackLastLineIfNotEmpty(e),E(e,function(e){t._appendToReadBuffer(e)})}}),Ze("FlushableStream",{"flush":0})),Bn={};function Wn(e,t){e===_&&(Bn=t)}function qn(e){return Bn(e)}s.read=qn,s.fs&&(s.fs.read=qn),Wn(e,function(e){return fn({method:tn.GET,url:e}).then(function(e){if(2!==Math.floor(e.status/100))throw new Error(e.responseText);return e.responseText})}),Wn(t,function(e){var o=java.nio.file.Paths.get(e);return java.nio.file.Files.exists(o)?new Promise(function(e,t){var n=java.nio.file.Files.newInputStream(o),r=new En(n),i=new mt;return r.read(i).then(function(){e(i.toString())})["catch"](t)}):Promise.reject(new Error("File not found"))}),Wn(c,function(e){return new Promise(function(n,r){i.readFile(e,function(e,t){e?r(e):n(t.toString())})})}),Wn(f,function(r){return new Promise(function(e,t){try{e(i.read(r))}catch(e_){t(new Error(e_))}})}),Wn(l,function(t){return new Promise(function(e){e(readFile(t))})}),Wn(d,function(n){return new Promise(function(e){var t=r.OpenTextFile(n,1,!1);e(t.ReadAll()),t.Close()})});var Ln={};function Un(n){var e,t,r,i=this;return(e=i,t=n,r=e.preload[t],r?Promise.resolve(r):qn(t)).then(function(e){var t=Ln[Ot(n).toLowerCase()];return t?t.call(i,n,e):e})}function Xn(e,t){return n={gpf:Object.create(s),promise:Promise.resolve(),_initialDefine:null},r=Kn(e,{base:Nt(t)}),n._initialDefine=r.define,r.define=function(){var e=this.gpf.require,t=this._initialDefine;return this.promise=t.apply(e,arguments),e.define=t,this.promise}.bind(n),n.gpf.require=r,n;var n,r}Ln[".json"]=function(e,t){return JSON.parse(t)},we(0,{noCommonJSDynamicRequire:"Dynamic require not supported"});var Vn=/[^.]\brequire\b\s*\(\s*(?:['|"]([^"']+)['|"]|[^)]+)\s*\)/g;var Hn,zn=[null,function(e){return{dependencies:[],factory:e[0]}},function(e){return{dependencies:e[0],factory:e[1]}},function(e){return{dependencies:e[1],factory:e[2]}}];function Zn(e,t,n){var r={};return T(["gpf","define","module","require"],t)(e,function(e,t,n){var r=zn[arguments.length](arguments);this.require.define(r.dependencies,function(e){return e.length=r.dependencies.length,r.factory.apply(null,[].slice.call(e))})}.bind(e),r,function(e){return n[e]||s.Error.noCommonJSDynamicRequire()}),r.exports}function Gn(e){return"clearCache"===e?-1:1}Hn=e===_?function(e,t){var n=location.pathname.toString();return n.endsWith("/")||(n=Nt(n)),"//# sourceURL="+location.origin+It(n,e)+"?gpf.require\n"+t}:function(e,t){return t},Ln[".js"]=function(n,r){var i=Xn(this,n);return function(e,t){var n=Ne(Vn,t);return n.length?Xn(this,e).gpf.require.define(n.map(function(e){return e[1]}).filter(function(e){return e}).reduce(function(e,t){return e[t]=t,e},{}),function(e){return e}):Promise.resolve({})}.call(this,n,r).then(function(e){var t=Zn(i.gpf,Hn(n,r),e);return undefined===t?i.promise:t})},we(0,{invalidRequireConfigureOption:"Invalid configuration option"});var Qn={base:function(e){this.base=e},cache:function(t){E(Object.keys(t),function(e){this.cache[e]=Promise.resolve(t[e])},this)},clearCache:function(){this.cache={}},preload:function(t){E(Object.keys(t),function(e){this.preload[e]=t[e]},this)}};function Jn(e){return It(this.base,e)}function Yn(r){var e;return this.cache[r]?this.cache[r]:(e=Un.call(this,r),(this.cache[r]=e)["catch"](function(e){var t,n;return t=e,n=r,Array.isArray(t.requires)||(t.requires=[]),t.requires.push(n),Promise.reject(e)}))}function Kn(e,t){var n=Object.create(e),r={};return r.define=function(t,i){var n=this,r=[],o=Object.keys(t);return E(o,function(e){r.push(Yn.call(n,Jn.call(n,t[e])))},n),Promise.all(r).then(function(n){var e,r;return"function"==typeof i?(r={},E(o,function(e,t){r[e]=n[t]}),e=i(r)):e=i,e})}.bind(n),r.resolve=Jn.bind(n),r.configure=function(t){var n=this;E(Object.keys(t).sort(function(e,t){return Gn(e)-Gn(t)}),function(e){(Qn[e]||s.Error.invalidRequireConfigureOption).call(n,t[e])},n)}.bind(n),t&&r.configure(t),r}s.require=Kn({base:"",cache:{},preload:{}});var er=Ue({$class:"gpf.stream.ReadableArray",constructor:function(e){this._buffer=e},read:pt(function(t){var n=this._buffer,r=0;return function e(){return n.length===r?Promise.resolve():t.write(n[r++]).then(e)}()}),_buffer:[]}),tr=Ue({$class:"gpf.stream.WritableArray",constructor:function(){this._buffer=[]},write:dt(function(e){return this._buffer.push(e),Promise.resolve()}),toArray:function(){return this._buffer},_buffer:[]});ut(er),ut(tr);var nr={flush:Promise.resolve.bind(Promise)};function rr(e){return Ve(Mn,e)||nr}function ir(e){if(e.readError)return Promise.reject(e.readError)}function or(e,t){var n,r,i,o,a,s,u=(s=t,{iReadableIntermediate:rt(a=e),iWritableIntermediate:it(a),iFlushableIntermediate:rr(a),iWritableDestination:it(s),iFlushableDestination:rr(s),readError:null,rejectWrite:p}),c=(r=!0,i=(n=u).iReadableIntermediate,o=n.iWritableDestination,function(){if(r)try{r=!1,i.read(o).then(function(){r=!0},function(e){n.readError=e,n.rejectWrite(e)})}catch(e_){n.readError=e_}}),f=u.iFlushableIntermediate,l=u.iFlushableDestination,h=u.iWritableIntermediate;return c(),{flush:function(){return ir(u)||f.flush().then(function(){return l.flush()})},write:function(e){return c(),ir(u)||(n=u,r=h.write(e),new Promise(function(t,e){r.then(function(e){t(e),n.rejectWrite=p},e),n.rejectWrite=e}));var n,r}}}function ar(e){return 1<e.length?function(e){for(var t=e.length-1,n=e[t];0<t;)n=or(e[--t],n);return n}(e):it(e[0])}s.stream.pipe=function(e,t){var n=rt(e),r=ar([].slice.call(arguments,1)),i=rr(r);try{return n.read(r).then(function(){return i.flush()})}catch(e_){return Promise.reject(e_)}},C.regexp={"\\":"\\\\","-":"\\-","[":"\\[","]":"\\]","/":"\\/","{":"\\{","}":"\\}","(":"\\(",")":"\\)","*":"\\*","+":"\\+","?":"\\?",".":"\\.","^":"\\^","$":"\\$","|":"\\|"},we(0,{invalidCSV:"Invalid CSV syntax (bad quote sequence or missing end of file)"}),s.stream.csv={};var sr=";,\t ".split("");Ue({$class:"gpf.stream.csv.Parser",$extend:$n,constructor:function(e){this._readParserOptions(e),this._header?this._parseHeader():this._write=this._writeHeader},_readParserOptions:function(t){var n=this;t&&E(["header","separator","quote","newLine"],function(e){t[e]&&(n["_"+e]=t[e])})},_header:"",_separator:"",_deduceSeparator:function(){var t=this._header;this._separator=P(sr,function(e){if(-1!==t.indexOf(e))return e})||sr[0]},_quote:'"',_newLine:"\n",_columns:[],_buildParsingHelpers:function(){this._unescapeDictionary={},this._unescapeDictionary[this._quote+this._quote]=this._quote,this._parser=new RegExp(k("^(?:([^QS][^S]*)|Q((?:[^Q]|QQ)+)Q)(?=$|S)",{Q:R(this._quote,"regexp"),S:R(this._separator,"regexp")}))},_parseHeader:function(){this._separator||this._deduceSeparator(),this._columns=this._header.split(this._separator),this._buildParsingHelpers(),this._write=this._writeContent},_writeHeader:function(e){this._header=e,this._parseHeader()},_values:[],_content:"",_unescapeQuoted:function(e){return k(e,this._unescapeDictionary)},_addValue:function(e){e[1]?this._values.push(e[1]):this._values.push(this._unescapeQuoted(e[2]))},_nextValue:function(e){return this._content=this._content.substr(e),0<this._content.length},_checkAfterValue:function(e){return this._content.charAt(e[0].length)?this._nextValue(e[0].length+1):(delete this._content,!1)},_extractValue:function(){var e=this._parser.exec(this._content);return!!e&&(this._addValue(e),this._checkAfterValue(e))},_checkForValue:function(){return this._content.charAt(0)===this._separator?(this._values.push(""),this._nextValue(1)):this._extractValue()},_parseValues:function(){for(;this._checkForValue(););},_parseContent:function(){if(this._parseValues(),!this._content)return this._values},_processContent:function(e){return this._content?this._content=this._content+this._newLine+e:(this._values=[],this._content=e),this._parseContent()},_getRecord:function(n){var r={};return E(this._columns,function(e,t){n[t]!==undefined&&(r[e]=n[t])}),r},_writeContent:function(e){var t=this._processContent(e);t&&this._appendToReadBuffer(this._getRecord(t))},write:dt(function(e){return this._write(e),Promise.resolve()}),flush:function(){if(this._content){var e=new s.Error.InvalidCSV;return this._setReadError(e),Promise.reject(e)}return this._completeReadBuffer(),Promise.resolve()}});s.attributes={};var ur=Ue({$class:"gpf.attributes.Attribute",$abstract:!0});we(0,{unknownAttributesSpecification:"Unknown attributes specification",invalidAttributesSpecification:"Invalid attributes specification"});var cr="attributes",fr=/^\[([^\]]+)\]$|./,lr=De.prototype._checkMemberName,hr=De.prototype._checkMemberValue,pr=De.prototype._check$Property;function dr(e){return fr.exec(e)[1]}Object.assign(De.prototype,{_hasInheritedMember:function(e){return this._extend&&this._extend.prototype[e]!==undefined},_hasMember:function(e){return this._initialDefinition.hasOwnProperty(e)||this._hasInheritedMember(e)},_checkAttributeMemberExist:function(e){this._hasMember(e)||s.Error.unknownAttributesSpecification()},_checkMemberName:function(e){var t=dr(e);t?(lr.call(this,t),this._checkAttributeMemberExist(t)):lr.call(this,e)},_checkAttributesSpecification:function(e){x(e)||s.Error.invalidAttributesSpecification(),E(e,function(e){e instanceof ur||s.Error.invalidAttributesSpecification()})},_checkMemberValue:function(e,t){dr(e)?this._checkAttributesSpecification(t):hr.call(this,e,t)},_check$Property:function(e,t){cr===e?this._checkAttributesSpecification(t):pr.call(this,e,t)}}),De.prototype._allowed$Properties.push(cr);var _r=De.prototype._addMemberToPrototype,mr=De.prototype._buildPrototype,vr="$"+cr;Object.assign(De.prototype,{_attributes:{},_addAttributesFor:function(e,t){this._attributes[e]=t},_addMemberToPrototype:function(e,t,n){var r=dr(t);r?this._addAttributesFor(r,n):_r.call(this,e,t,n)},_buildPrototype:function(e){var t=this._initialDefinition[vr];this._attributes={},t&&this._addAttributesFor(vr,t),mr.call(this,e)}}),Object.assign(De.prototype,{_collectAttributes:function(u,c){y(this._attributes,function(e,t){var n,r,i,o,a,s=(n=e,(r=c)?n.filter(function(e){return e instanceof r}):n);s.length&&(a=s,(i=u)[o=t]=(i[o]||[]).concat(a))}),this._extendDefinition&&this._extendDefinition._collectAttributes(u,c)},getAttributes:function(e){var t={};return this._collectAttributes(t,e),t}}),s.attributes.get=function(e,t){return"function"!=typeof e&&(e=e.constructor),n=t,(r=Ae(e))?r.getAttributes(n):{};var n,r};var gr={},br=Ue({$class:"gpf.stream.AbstractOperator",_dataInPromise:undefined,_dataInResolve:p,_dataOutResolve:p,_dataOutReject:p,_waitForData:function(){var t=this;return t._dataInPromise||(t._dataInPromise=new Promise(function(e){t._dataInResolve=e}).then(function(e){return delete t._dataInPromise,delete t._dataInResolve,e})),t._dataInPromise},_writeData:function(e){var n=this;return n._waitForData(),n._dataInResolve(e),new Promise(function(e,t){n._dataOutResolve=e,n._dataOutReject=t}).then(function(e){return delete n._dataOutResolve,delete n._dataOutReject,e},function(e){return delete n._dataOutResolve,delete n._dataOutReject,Promise.reject(e)})},read:pt(function(t){var n=this;return n._waitForData().then(function(e){return gr!==e?t.write(e).then(n._dataOutResolve,n._dataOutReject):(n._dataOutResolve(),Promise.resolve())})}),_process:ke(1),write:dt(function(e){return this._process(e)}),flush:function(){return this._dataInPromise?this._writeData(gr):Promise.resolve()}});ut(br);Ue({$class:"gpf.stream.Filter",$extend:br,constructor:function(e){this._filter=e},_process:function(e){return this._filter(e)?this._writeData(e):Promise.resolve()}}),Ue({$class:"gpf.stream.Map",$extend:br,constructor:function(e){this._map=e},_process:function(e){return this._writeData(this._map(e))}}),Ze("XmlContentHandler",{"characters":1,"endDocument":0,"endElement":0,"endPrefixMapping":1,"processingInstruction":2,"startDocument":0,"startElement":2,"startPrefixMapping":2});function yr(t,n){return function(e){e.match(t)||s.Error["invalidXml"+n]()}}we(0,{invalidXmlElementName:"Invalid XML element name",invalidXmlAttributeName:"Invalid XML attribute name",invalidXmlNamespacePrefix:"Invalid XML namespace prefix",invalidXmlUseOfPrefixXmlns:"Invalid use of XML namespace prefix xmlns",invalidXmlUseOfPrefixXml:"Invalid use of XML namespace prefix xml",unknownXmlNamespacePrefix:"Unknown XML namespace prefix"});var wr=/^[a-zA-Z_][a-zA-Z0-9_\-\.]*$/,xr=/^(|[a-z_][a-zA-Z0-9_]*)$/,Er=yr(wr,"ElementName"),Sr=yr(wr,"AttributeName"),Pr=yr(xr,"NamespacePrefix");function Or(e){"xmlns"===e&&s.Error.invalidXmlUseOfPrefixXmlns()}function jr(e,t){Er(e),Pr(t),Or(t)}function Ir(e,t){-1===t.indexOf(e)&&s.Error.unknownXmlNamespacePrefix()}function Nr(r,i){return function(e,t){var n=e.indexOf(":");-1===n?r(e):i(e.substr(n+1),e.substr(0,n),t)}}var Tr=Nr(Er,function(e,t,n){jr(e,t),"xml"===t?s.Error.invalidXmlUseOfPrefixXml():Ir(t,n)});var kr=Nr(Sr,function(e,t,n){jr(e,t),"xml"===t?"space"!==e&&s.Error.invalidXmlUseOfPrefixXml():Ir(t,n)});we(0,{invalidXmlWriterState:"Invalid XML Writer state"});Ue({$class:"gpf.xml.Writer",$extend:$n,constructor:function(){this._elements=[],this._nextNamespaces={},this._checkIfStarted=s.Error.invalidXmlWriterState},_elements:[],_nextNamespaces:{},_checkIfElementsExist:function(e){e!==(0!==this._elements.length)&&s.Error.invalidXmlWriterState()},_checkState:function(e){this._checkIfStarted(),undefined!==e&&this._checkIfElementsExist(e)},_addContentToElement:function(e){e.content||(this._appendToReadBuffer(">"),e.content=!0)},_addContentToLastElement:function(){var e=this._elements[0];if(e)return this._addContentToElement(e)},_writeAttribute:function(e,t){this._appendToReadBuffer(" "+e+'="'),this._appendToReadBuffer(R(t.toString(),"xml")),this._appendToReadBuffer('"')},_getNamespacePrefixes:function(){return this._elements.reduce(function(e,t){return e.concat(Object.keys(t.namespaces))},[])},_processAttributes:function(e){y(e,function(e,t){kr(t,this._getNamespacePrefixes()),this._writeAttribute(t,e)},this)},_processNamespaces:function(e){y(e,function(e,t){t?this._writeAttribute("xmlns:"+t,e):this._writeAttribute("xmlns",e)},this)},characters:function(e){return this._checkState(!0),this._addContentToLastElement(),this._appendToReadBuffer(R(e.toString(),"xml")),Promise.resolve()},endDocument:function(){return this._checkState(!1),this._checkIfStarted=s.Error.invalidXmlWriterState,this._completeReadBuffer(),Promise.resolve()},endElement:function(){this._checkState(!0);var e=this._elements.shift();return e.content?this._appendToReadBuffer("</"+e.qName+">"):this._appendToReadBuffer("/>"),Promise.resolve()},endPrefixMapping:function(e){return this._checkState(),Promise.resolve()},processingInstruction:function(e,t){return this._checkState(!1),this._appendToReadBuffer("<?"+e+" "+t+"?>\n"),Promise.resolve()},startDocument:function(){return this._checkIfStarted=p,this.startDocument=s.Error.invalidXmlWriterState,this._checkState(!1),Promise.resolve()},startElement:function(e,t){var n=this._nextNamespaces;this._checkState(),this._addContentToLastElement(),this._elements.unshift({qName:e,namespaces:n}),this._nextNamespaces={},Tr(e,this._getNamespacePrefixes()),this._appendToReadBuffer("<"+e),t&&this._processAttributes(t),this._processNamespaces(n)},startPrefixMapping:function(e,t){var n;this._checkState(),Pr(n=e),Or(n),"xml"===n&&s.Error.invalidXmlUseOfPrefixXml(),this._nextNamespaces[e]&&s.Error.invalidXmlWriterState(),this._nextNamespaces[e]=t}})});